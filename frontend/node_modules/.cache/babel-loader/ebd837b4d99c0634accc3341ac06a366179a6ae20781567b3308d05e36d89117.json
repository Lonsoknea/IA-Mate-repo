{"ast":null,"code":"var _jsxFileName = \"/Users/anbschool0009/Desktop/IA-Mate-repo/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({\n    nodes: [],\n    links: []\n  });\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [editingNodeId, setEditingNodeId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const [selectedNodeName, setSelectedNodeName] = useState(null);\n  const [inputText, setInputText] = useState('');\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n  const templates = useMemo(() => ({\n    'e-commerce': {\n      name: 'E-commerce Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page'\n      }, {\n        name: 'Browse Products',\n        type: 'action',\n        children: [{\n          name: 'Product Details',\n          type: 'page'\n        }]\n      }, {\n        name: 'Shopping Cart',\n        type: 'page'\n      }, {\n        name: 'Checkout',\n        type: 'action',\n        label: 'Proceed to payment'\n      }, {\n        name: 'Payment Method',\n        type: 'decision',\n        children: [{\n          name: 'Credit Card',\n          type: 'page',\n          label: 'Choose Card'\n        }, {\n          name: 'PayPal',\n          type: 'action',\n          label: 'Redirect to PayPal'\n        }]\n      }, {\n        name: 'Order Confirmation',\n        type: 'page'\n      }]\n    },\n    'portfolio': {\n      name: 'Portfolio Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page'\n      }, {\n        name: 'About Me',\n        type: 'page'\n      }, {\n        name: 'Projects',\n        type: 'page',\n        children: [{\n          name: 'Project 1',\n          type: 'page'\n        }, {\n          name: 'Project 2',\n          type: 'page'\n        }]\n      }, {\n        name: 'Contact',\n        type: 'page'\n      }]\n    },\n    'blog': {\n      name: 'Blog Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page'\n      }, {\n        name: 'Posts List',\n        type: 'page',\n        children: [{\n          name: 'Single Post',\n          type: 'page'\n        }]\n      }, {\n        name: 'Categories',\n        type: 'decision',\n        children: [{\n          name: 'Technology',\n          type: 'page'\n        }, {\n          name: 'Design',\n          type: 'page'\n        }, {\n          name: 'Lifestyle',\n          type: 'page'\n        }]\n      }, {\n        name: 'About',\n        type: 'page'\n      }]\n    }\n  }), []);\n  const genericTemplate = {\n    name: 'Generic Site',\n    type: 'page',\n    children: [{\n      name: 'Home',\n      type: 'page'\n    }, {\n      name: 'About',\n      type: 'page'\n    }, {\n      name: 'Services',\n      type: 'page'\n    }, {\n      name: 'Contact',\n      type: 'page'\n    }]\n  };\n  const colors = useMemo(() => ['#f8fafc', '#e2e8f0', '#cbd5e1', '#94a3b8', '#64748b'], []);\n  const hierarchyToGraph = useCallback(data => {\n    const nodes = [];\n    const links = [];\n\n    // Use tree layout for initial positions to avoid random overlaps\n    const treeLayout = d3.tree().size([height - 100, width - 200]);\n    const root = d3.hierarchy(data);\n    treeLayout(root);\n    const traverse = (d, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      const hasChildren = d.children && d.children.length > 0;\n      nodes.push({\n        id,\n        name: d.data.name,\n        type: d.data.type || 'action',\n        x: d.y + width / 2,\n        // Horizontal tree\n        y: d.x + height / 2,\n        depth,\n        fx: d.y + width / 2,\n        fy: d.x + height / 2,\n        hasChildren\n      });\n      if (parentId !== null) {\n        links.push({\n          source: nodes[parentId],\n          target: nodes[id],\n          label: d.data.label || ''\n        });\n      }\n      if (d.children) {\n        d.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n    traverse(root);\n    return {\n      nodes,\n      links\n    };\n  }, [width, height]);\n\n  // Define recursive functions using useCallback to avoid parsing issues\n  const addChildToNode = useCallback((root, parentName, newChild) => {\n    if (root.name === parentName) {\n      root.children = root.children || [];\n      root.children.push(newChild);\n      return root;\n    }\n    if (root.children) {\n      for (let i = 0; i < root.children.length; i++) {\n        const updated = addChildToNode(root.children[i], parentName, newChild);\n        if (updated) {\n          root.children[i] = updated;\n          return root;\n        }\n      }\n    }\n    return null;\n  }, []);\n  const removeNodeByName = useCallback((root, targetName) => {\n    if (root.name === targetName) {\n      return null; // Remove this node\n    }\n    if (root.children) {\n      root.children = root.children.map(child => removeNodeByName(child, targetName)).filter(Boolean);\n      return root;\n    }\n    return root;\n  }, []);\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (!file.name.endsWith('.json')) {\n      setError('Please select a JSON file.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const text = await file.text();\n      const jsonData = JSON.parse(text);\n      const response = await fetch('http://localhost:3002/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(jsonData)\n      });\n      if (response.ok) {\n        setIaData(jsonData);\n        fetchData();\n      } else {\n        setError('Failed to upload JSON.');\n      }\n    } catch (err) {\n      setError('Invalid JSON file.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:3002/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('No IA data uploaded yet.');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(svgRef.current, 1.2);\n    }\n  }, []);\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(svgRef.current, 0.8);\n    }\n  }, []);\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = bounds.x + bounds.width / 2;\n      const midY = bounds.y + bounds.height / 2;\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity);\n    }\n  }, []);\n  const addNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n    const newChild = {\n      name: `New Node ${Date.now()}`,\n      type: 'action',\n      children: []\n    };\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    addChildToNode(newIaData, selectedNodeName, newChild);\n    setIaData(newIaData);\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, addChildToNode]);\n  const deleteNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    const updatedRoot = removeNodeByName(newIaData, selectedNodeName);\n    if (updatedRoot) {\n      setIaData(updatedRoot);\n    } else {\n      setIaData(null);\n    }\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, removeNodeByName]);\n  const startEditing = useCallback(d => {\n    setEditingNodeId(d.id);\n    setEditingText(d.name);\n  }, []);\n  const saveEditing = useCallback(() => {\n    if (editingNodeId !== null) {\n      setGraphData(prev => ({\n        ...prev,\n        nodes: prev.nodes.map(n => n.id === editingNodeId ? {\n          ...n,\n          name: editingText\n        } : n)\n      }));\n      setEditingNodeId(null);\n      setEditingText('');\n    }\n  }, [editingNodeId, editingText]);\n  const cancelEditing = useCallback(() => {\n    setEditingNodeId(null);\n    setEditingText('');\n  }, []);\n  const getNodePath = useCallback(d => {\n    const w = 80; // half width 160\n    const h = 30; // half height 60\n    const rx = 8;\n    const ry = 8;\n    switch (d.type) {\n      case 'action':\n        // Oval (ellipse)\n        return `M ${-w} 0 A ${w} ${h} 0 1 1 ${w} 0 A ${w} ${h} 0 1 1 ${-w} 0 Z`;\n      case 'decision':\n        // Diamond\n        return `M 0 ${-h} L ${w} 0 L 0 ${h} L ${-w} 0 Z`;\n      case 'page':\n      default:\n        // Rounded rectangle\n        return `M ${-w + rx} ${-h} h ${w - 2 * rx} a ${rx} ${ry} 0 0 1 ${rx} ${ry} v ${h - 2 * ry} a ${rx} ${ry} 0 0 1 -${rx} ${ry} h ${-(w - 2 * rx)} a ${rx} ${ry} 0 0 1 -${rx} -${ry} v ${-(h - 2 * ry)} a ${rx} ${ry} 0 0 1 ${rx} -${ry} z`;\n    }\n  }, []);\n  const parseTextToIA = useCallback(text => {\n    if (!text.trim()) {\n      throw new Error('Input text is empty');\n    }\n    const items = text.split(',').map(item => item.trim()).filter(item => item);\n    if (items.length === 0) {\n      throw new Error('No valid items found');\n    }\n    const decisionKeywords = ['if', 'choose', 'decision', 'yes', 'no'];\n    const actionKeywords = ['browse', 'login', 'checkout', 'process', 'action', 'redirect'];\n    const buildNode = name => {\n      let type = 'page';\n      const lowerName = name.toLowerCase();\n      if (decisionKeywords.some(kw => lowerName.includes(kw))) {\n        type = 'decision';\n      } else if (actionKeywords.some(kw => lowerName.includes(kw))) {\n        type = 'action';\n      }\n      return {\n        name: name.substring(0, 30),\n        type,\n        children: []\n      };\n    };\n\n    // Simple linear tree: first item root, rest children\n    const root = buildNode(items[0]);\n    for (let i = 1; i < items.length; i++) {\n      root.children.push(buildNode(items[i]));\n    }\n    return root;\n  }, []);\n  const generateIA = useCallback(() => {\n    if (!inputText.trim()) {\n      setError('Please enter a description');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const generated = parseTextToIA(inputText);\n      setIaData(generated);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [inputText, parseTextToIA]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (!graphData.nodes.length || error) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    const g = svg.append('g');\n    gRef.current = g.node();\n\n    // Add zoom and pan with smooth transitions\n    zoomRef.current = d3.zoom().scaleExtent([0.1, 4]).on('zoom', event => {\n      if (gRef.current) d3.select(gRef.current).attr('transform', event.transform);\n    });\n    svg.call(zoomRef.current);\n\n    // Enhanced defs for arrow markers, shadow, and glow\n    const defs = svg.append('defs');\n\n    // Arrowhead\n    defs.append('marker').attr('id', 'arrowhead').attr('viewBox', '-0 -5 10 10').attr('refX', 15).attr('refY', 0).attr('orient', 'auto').attr('markerWidth', 8).attr('markerHeight', 8).attr('xoverflow', 'visible').append('path').attr('d', 'M 0,-5 L 10 ,0 L 0,5').attr('fill', '#6b7280').attr('stroke', 'none');\n\n    // Soft shadow\n    const shadowFilter = defs.append('filter').attr('id', 'shadow').attr('x', '-50%').attr('y', '-50%').attr('width', '200%').attr('height', '200%');\n    shadowFilter.append('feDropShadow').attr('dx', 1).attr('dy', 1).attr('stdDeviation', 3).attr('flood-color', 'rgba(0,0,0,0.2)');\n\n    // Glow for hover\n    const glowFilter = defs.append('filter').attr('id', 'glow').attr('x', '-50%').attr('y', '-50%').attr('width', '200%').attr('height', '200%');\n    glowFilter.append('feGaussianBlur').attr('in', 'SourceAlpha').attr('stdDeviation', 3).attr('result', 'blur');\n    glowFilter.append('feOffset').attr('in', 'blur').attr('dx', 0).attr('dy', 0).attr('result', 'offsetBlur');\n    glowFilter.append('feFlood').attr('flood-color', '#3b82f6').attr('flood-opacity', '0.8').attr('result', 'glowColor');\n    glowFilter.append('feComposite').attr('in', 'glowColor').attr('in2', 'offsetBlur').attr('operator', 'in').attr('result', 'glowShape');\n    const feMerge = glowFilter.append('feMerge');\n    feMerge.append('feMergeNode').attr('in', 'glowShape');\n    feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    // Curved links for smoother appearance\n    const link = g.selectAll('.link').data(graphData.links).enter().append('path').attr('class', 'link').attr('fill', 'none').attr('marker-end', 'url(#arrowhead)').attr('stroke', '#9ca3af').attr('stroke-width', 2.5).attr('d', linkArc).style('transition', 'stroke 0.3s ease, stroke-width 0.3s ease');\n\n    // Link labels (hidden if empty)\n    const linkLabel = g.selectAll('.link-label').data(graphData.links).enter().append('text').attr('class', 'link-label').attr('font-size', 12).attr('fill', '#6b7280').attr('text-anchor', 'middle').attr('dominant-baseline', 'middle').attr('x', d => (d.source.x + d.target.x) / 2).attr('y', d => Math.min(d.source.y, d.target.y) - 15).style('pointer-events', 'none').text(d => d.label || '').style('display', d => d.label ? 'block' : 'none').style('text-shadow', '1px 1px 2px rgba(255,255,255,0.8)');\n\n    // Nodes with animations, hover glow\n    const node = g.selectAll('.node').data(graphData.nodes).enter().append('g').classed('node', true).attr('opacity', 0).style('transition', 'opacity 0.5s ease').call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended)).on('click', (event, d) => {\n      if (editingNodeId !== null) {\n        saveEditing();\n      }\n      setSelectedNodeName(d.name);\n    }).on('dblclick', (event, d) => {\n      event.stopPropagation();\n      startEditing(d);\n    }).on('mouseover', function (event, d) {\n      d3.select(this).select('path').attr('filter', 'url(#glow)').attr('stroke', '#3b82f6').attr('stroke-width', 4);\n      // Highlight outgoing links\n      g.selectAll('.link').filter(l => l.source.id === d.id).attr('stroke', '#3b82f6').attr('stroke-width', 3.5);\n    }).on('mouseout', function (event, d) {\n      d3.select(this).select('path').attr('filter', 'url(#shadow)').attr('stroke', selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length]).attr('stroke-width', selectedNodeName === d.name ? 4 : 2.5);\n      g.selectAll('.link').attr('stroke', '#9ca3af').attr('stroke-width', 2.5);\n    });\n\n    // Set node positions directly from tree layout\n    node.attr('opacity', 0).attr('transform', d => `translate(${d.x}, ${d.y}) scale(0.5)`).transition().duration(500).attr('opacity', 1).attr('transform', d => `translate(${d.x}, ${d.y}) scale(1)`);\n    node.append('path').attr('d', getNodePath).attr('fill', d => {\n      switch (d.type) {\n        case 'page':\n          return '#dbeafe';\n        case 'action':\n          return '#dcfce7';\n        case 'decision':\n          return '#fed7aa';\n        default:\n          return '#f8fafc';\n      }\n    }).attr('stroke', d => selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length]).attr('stroke-width', d => selectedNodeName === d.name ? 4 : 2.5).attr('filter', 'url(#shadow)');\n    node.each(function (d) {\n      const group = d3.select(this);\n      if (d.id === editingNodeId) {\n        const foreignObject = group.append('foreignObject').attr('x', -80).attr('y', -30).attr('width', 160).attr('height', 60);\n        foreignObject.append('xhtml:input').attr('type', 'text').attr('value', editingText).style('width', '100%').style('height', '100%').style('border', 'none').style('outline', 'none').style('font-size', '14px').style('font-family', 'Inter, system-ui, sans-serif').style('font-weight', 'bold').style('text-align', 'center').style('display', 'flex').style('align-items', 'center').style('justify-content', 'center').on('input', function (event) {\n          setEditingText(event.target.value);\n        }).on('keydown', function (event) {\n          if (event.key === 'Enter') {\n            saveEditing();\n          } else if (event.key === 'Escape') {\n            cancelEditing();\n          }\n        }).on('blur', saveEditing);\n      } else {\n        group.append('text').attr('text-anchor', 'middle').attr('x', 0).attr('y', 0).attr('dy', '.35em').attr('font-size', '14px').attr('font-family', 'Inter, system-ui, sans-serif').attr('font-weight', 'bold').attr('fill', '#1f2937').text(d => d.name).style('pointer-events', 'none');\n      }\n    });\n    function linkArc(d) {\n      const source = d.source;\n      const target = d.target;\n      // Curved bezier line for smoother appearance\n      const dx = target.x - source.x;\n      const dy = target.y - source.y;\n      const cp1x = source.x + dx / 3;\n      const cp1y = source.y + dy / 2 - 20;\n      const cp2x = source.x + 2 * dx / 3;\n      const cp2y = target.y - dy / 2 + 20;\n      return `M ${source.x} ${source.y} C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${target.x} ${target.y}`;\n    }\n    function dragstarted(event, d) {\n      // No simulation, just start drag\n    }\n    function dragged(event, d) {\n      // Constrain both x and y\n      d.x = snapToGrid ? Math.round(event.x / 20) * 20 : event.x;\n      d.y = snapToGrid ? Math.round(event.y / 20) * 20 : event.y;\n      d3.select(this).attr('transform', `translate(${d.x}, ${d.y})`);\n      // Update links\n      link.attr('d', linkArc);\n      linkLabel.attr('x', d => (d.source.x + d.target.x) / 2).attr('y', d => Math.min(d.source.y, d.target.y) - 15);\n    }\n    function dragended(event, d) {\n      // No simulation to stop\n    }\n  }, [graphData, error, width, height, colors, snapToGrid, selectedNodeName, startEditing, saveEditing, cancelEditing, editingNodeId, editingText, getNodePath]);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-white shadow-sm border-b flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800\",\n        children: \"IA Flowchart Diagram\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-end space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            disabled: loading,\n            className: \"w-80 h-20 p-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none resize-none text-sm placeholder-gray-500\",\n            placeholder: \"Describe your IA, e.g., 'Home page, browse products, if logged in go to profile, else login'\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: generateIA,\n            disabled: loading,\n            className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\",\n            children: \"Generate IA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".json\",\n            onChange: handleFileUpload,\n            disabled: loading,\n            className: \"file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchData,\n          disabled: loading,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 self-end\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2 text-blue-500 text-center\",\n      children: \"Uploading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2 text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        width: width,\n        height: height,\n        className: \"absolute inset-0 w-full h-full bg-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 right-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomIn,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomOut,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fitToScreen,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"\\u2194\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetView,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"\\u27F2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNode,\n          className: \"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteNode,\n          disabled: selectedNodeName === null,\n          className: \"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSnapToGrid(!snapToGrid),\n          className: `px-2 py-1 text-xs rounded text-gray-700 shadow-sm ${snapToGrid ? 'bg-green-100' : 'bg-gray-100 hover:bg-gray-200'}`,\n          children: \"\\u229E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-4 right-4 bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-10 max-w-xs backdrop-blur-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-800 mb-2\",\n          children: \"Legend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-xs text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-600\",\n              children: \"Rectangle = Page / Screen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: \"Oval = Process / Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25C7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-orange-600\",\n              children: \"Diamond = Decision\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-mono\",\n              children: \"\\u2014\\u2014\\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Solid line = Direct navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-mono\",\n              children: \"- - -\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Dashed line = Related link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 688,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"J33juEBvDdR+PuAiF4ooIod33Ag=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","d3","jsxDEV","_jsxDEV","App","_s","iaData","setIaData","graphData","setGraphData","nodes","links","snapToGrid","setSnapToGrid","editingNodeId","setEditingNodeId","editingText","setEditingText","error","setError","loading","setLoading","width","setWidth","height","setHeight","selectedNodeName","setSelectedNodeName","inputText","setInputText","svgRef","zoomRef","gRef","templates","name","type","children","label","genericTemplate","colors","hierarchyToGraph","data","treeLayout","tree","size","root","hierarchy","traverse","d","parentId","depth","id","length","hasChildren","push","x","y","fx","fy","source","target","forEach","child","addChildToNode","parentName","newChild","i","updated","removeNodeByName","targetName","map","filter","Boolean","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","handleFileUpload","event","file","files","endsWith","text","jsonData","JSON","parse","response","fetch","method","headers","body","stringify","ok","fetchData","err","json","zoomIn","current","scaleBy","zoomOut","fitToScreen","bounds","getBBox","fullWidth","fullHeight","midX","midY","scale","translate","transform","zoomIdentity","resetView","addNode","Date","now","newIaData","deleteNode","updatedRoot","startEditing","saveEditing","prev","n","cancelEditing","getNodePath","w","h","rx","ry","parseTextToIA","trim","Error","items","split","item","decisionKeywords","actionKeywords","buildNode","lowerName","toLowerCase","some","kw","includes","substring","generateIA","generated","message","svg","select","selectAll","remove","g","append","node","zoom","scaleExtent","on","attr","call","defs","shadowFilter","glowFilter","feMerge","link","enter","linkArc","style","linkLabel","Math","min","classed","drag","dragstarted","dragged","dragended","stopPropagation","l","transition","duration","each","group","foreignObject","value","key","dx","dy","cp1x","cp1y","cp2x","cp2y","round","handleKeyDown","tagName","isContentEditable","preventDefault","document","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","disabled","placeholder","onClick","accept","ref","_c","$RefreshReg$"],"sources":["/Users/anbschool0009/Desktop/IA-Mate-repo/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\n\nfunction App() {\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [editingNodeId, setEditingNodeId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const [selectedNodeName, setSelectedNodeName] = useState(null);\n  const [inputText, setInputText] = useState('');\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n\n  const templates = useMemo(() => ({\n    'e-commerce': {\n      name: 'E-commerce Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page' },\n        { \n          name: 'Browse Products', \n          type: 'action',\n          children: [\n            { name: 'Product Details', type: 'page' }\n          ]\n        },\n        { name: 'Shopping Cart', type: 'page' },\n        { \n          name: 'Checkout', \n          type: 'action',\n          label: 'Proceed to payment'\n        },\n        { \n          name: 'Payment Method', \n          type: 'decision',\n          children: [\n            { name: 'Credit Card', type: 'page', label: 'Choose Card' },\n            { name: 'PayPal', type: 'action', label: 'Redirect to PayPal' }\n          ]\n        },\n        { name: 'Order Confirmation', type: 'page' }\n      ]\n    },\n    'portfolio': {\n      name: 'Portfolio Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page' },\n        { name: 'About Me', type: 'page' },\n        { \n          name: 'Projects', \n          type: 'page',\n          children: [\n            { name: 'Project 1', type: 'page' },\n            { name: 'Project 2', type: 'page' }\n          ]\n        },\n        { name: 'Contact', type: 'page' }\n      ]\n    },\n    'blog': {\n      name: 'Blog Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page' },\n        { \n          name: 'Posts List', \n          type: 'page',\n          children: [\n            { name: 'Single Post', type: 'page' }\n          ]\n        },\n        { \n          name: 'Categories', \n          type: 'decision',\n          children: [\n            { name: 'Technology', type: 'page' },\n            { name: 'Design', type: 'page' },\n            { name: 'Lifestyle', type: 'page' }\n          ]\n        },\n        { name: 'About', type: 'page' }\n      ]\n    }\n  }), []);\n\n  const genericTemplate = {\n    name: 'Generic Site',\n    type: 'page',\n    children: [\n      { name: 'Home', type: 'page' },\n      { name: 'About', type: 'page' },\n      { name: 'Services', type: 'page' },\n      { name: 'Contact', type: 'page' }\n    ]\n  };\n\n  const colors = useMemo(() => ['#f8fafc', '#e2e8f0', '#cbd5e1', '#94a3b8', '#64748b'], []);\n\n  const hierarchyToGraph = useCallback((data) => {\n    const nodes = [];\n    const links = [];\n\n    // Use tree layout for initial positions to avoid random overlaps\n    const treeLayout = d3.tree().size([height - 100, width - 200]);\n    const root = d3.hierarchy(data);\n    treeLayout(root);\n\n    const traverse = (d, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      const hasChildren = d.children && d.children.length > 0;\n      nodes.push({\n        id,\n        name: d.data.name,\n        type: d.data.type || 'action',\n        x: d.y + width / 2, // Horizontal tree\n        y: d.x + height / 2,\n        depth,\n        fx: d.y + width / 2,\n        fy: d.x + height / 2,\n        hasChildren,\n      });\n\n      if (parentId !== null) {\n        links.push({ source: nodes[parentId], target: nodes[id], label: d.data.label || '' });\n      }\n\n      if (d.children) {\n        d.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n\n    traverse(root);\n    return { nodes, links };\n  }, [width, height]);\n\n  // Define recursive functions using useCallback to avoid parsing issues\n  const addChildToNode = useCallback((root, parentName, newChild) => {\n    if (root.name === parentName) {\n      root.children = root.children || [];\n      root.children.push(newChild);\n      return root;\n    }\n    if (root.children) {\n      for (let i = 0; i < root.children.length; i++) {\n        const updated = addChildToNode(root.children[i], parentName, newChild);\n        if (updated) {\n          root.children[i] = updated;\n          return root;\n        }\n      }\n    }\n    return null;\n  }, []);\n\n  const removeNodeByName = useCallback((root, targetName) => {\n    if (root.name === targetName) {\n      return null; // Remove this node\n    }\n    if (root.children) {\n      root.children = root.children.map(child => removeNodeByName(child, targetName)).filter(Boolean);\n      return root;\n    }\n    return root;\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    if (!file.name.endsWith('.json')) {\n      setError('Please select a JSON file.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const text = await file.text();\n      const jsonData = JSON.parse(text);\n\n      const response = await fetch('http://localhost:3002/upload', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(jsonData),\n      });\n\n      if (response.ok) {\n        setIaData(jsonData);\n        fetchData();\n      } else {\n        setError('Failed to upload JSON.');\n      }\n    } catch (err) {\n      setError('Invalid JSON file.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:3002/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('No IA data uploaded yet.');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(svgRef.current, 1.2);\n    }\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(svgRef.current, 0.8);\n    }\n  }, []);\n\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = (bounds.x + bounds.width / 2);\n      const midY = (bounds.y + bounds.height / 2);\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity);\n    }\n  }, []);\n\n  const addNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newChild = {\n      name: `New Node ${Date.now()}`,\n      type: 'action',\n      children: []\n    };\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    addChildToNode(newIaData, selectedNodeName, newChild);\n    setIaData(newIaData);\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, addChildToNode]);\n\n  const deleteNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    const updatedRoot = removeNodeByName(newIaData, selectedNodeName);\n    if (updatedRoot) {\n      setIaData(updatedRoot);\n    } else {\n      setIaData(null);\n    }\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, removeNodeByName]);\n\n  const startEditing = useCallback((d) => {\n    setEditingNodeId(d.id);\n    setEditingText(d.name);\n  }, []);\n\n  const saveEditing = useCallback(() => {\n    if (editingNodeId !== null) {\n      setGraphData(prev => ({\n        ...prev,\n        nodes: prev.nodes.map(n => n.id === editingNodeId ? { ...n, name: editingText } : n)\n      }));\n      setEditingNodeId(null);\n      setEditingText('');\n    }\n  }, [editingNodeId, editingText]);\n\n  const cancelEditing = useCallback(() => {\n    setEditingNodeId(null);\n    setEditingText('');\n  }, []);\n\n  const getNodePath = useCallback((d) => {\n    const w = 80; // half width 160\n    const h = 30; // half height 60\n    const rx = 8;\n    const ry = 8;\n\n    switch (d.type) {\n      case 'action':\n        // Oval (ellipse)\n        return `M ${-w} 0 A ${w} ${h} 0 1 1 ${w} 0 A ${w} ${h} 0 1 1 ${-w} 0 Z`;\n      case 'decision':\n        // Diamond\n        return `M 0 ${-h} L ${w} 0 L 0 ${h} L ${-w} 0 Z`;\n      case 'page':\n      default:\n        // Rounded rectangle\n        return `M ${-w + rx} ${-h} h ${w - 2 * rx} a ${rx} ${ry} 0 0 1 ${rx} ${ry} v ${h - 2 * ry} a ${rx} ${ry} 0 0 1 -${rx} ${ry} h ${-(w - 2 * rx)} a ${rx} ${ry} 0 0 1 -${rx} -${ry} v ${-(h - 2 * ry)} a ${rx} ${ry} 0 0 1 ${rx} -${ry} z`;\n    }\n  }, []);\n\n  const parseTextToIA = useCallback((text) => {\n    if (!text.trim()) {\n      throw new Error('Input text is empty');\n    }\n\n    const items = text.split(',').map(item => item.trim()).filter(item => item);\n    if (items.length === 0) {\n      throw new Error('No valid items found');\n    }\n\n    const decisionKeywords = ['if', 'choose', 'decision', 'yes', 'no'];\n    const actionKeywords = ['browse', 'login', 'checkout', 'process', 'action', 'redirect'];\n\n    const buildNode = (name) => {\n      let type = 'page';\n      const lowerName = name.toLowerCase();\n      if (decisionKeywords.some(kw => lowerName.includes(kw))) {\n        type = 'decision';\n      } else if (actionKeywords.some(kw => lowerName.includes(kw))) {\n        type = 'action';\n      }\n      return { name: name.substring(0, 30), type, children: [] };\n    };\n\n    // Simple linear tree: first item root, rest children\n    const root = buildNode(items[0]);\n    for (let i = 1; i < items.length; i++) {\n      root.children.push(buildNode(items[i]));\n    }\n\n    return root;\n  }, []);\n\n  const generateIA = useCallback(() => {\n    if (!inputText.trim()) {\n      setError('Please enter a description');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const generated = parseTextToIA(inputText);\n      setIaData(generated);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [inputText, parseTextToIA]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!graphData.nodes.length || error) return;\n\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n\n    const g = svg.append('g');\n    gRef.current = g.node();\n\n    // Add zoom and pan with smooth transitions\n    zoomRef.current = d3.zoom()\n      .scaleExtent([0.1, 4])\n      .on('zoom', (event) => {\n        if (gRef.current) d3.select(gRef.current).attr('transform', event.transform);\n      });\n\n    svg.call(zoomRef.current);\n\n    // Enhanced defs for arrow markers, shadow, and glow\n    const defs = svg.append('defs');\n\n    // Arrowhead\n    defs.append('marker')\n      .attr('id', 'arrowhead')\n      .attr('viewBox', '-0 -5 10 10')\n      .attr('refX', 15)\n      .attr('refY', 0)\n      .attr('orient', 'auto')\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 8)\n      .attr('xoverflow', 'visible')\n      .append('path')\n      .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\n      .attr('fill', '#6b7280')\n      .attr('stroke', 'none');\n\n    // Soft shadow\n    const shadowFilter = defs.append('filter')\n      .attr('id', 'shadow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    shadowFilter.append('feDropShadow')\n      .attr('dx', 1)\n      .attr('dy', 1)\n      .attr('stdDeviation', 3)\n      .attr('flood-color', 'rgba(0,0,0,0.2)');\n\n    // Glow for hover\n    const glowFilter = defs.append('filter')\n      .attr('id', 'glow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glowFilter.append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 3)\n      .attr('result', 'blur');\n\n    glowFilter.append('feOffset')\n      .attr('in', 'blur')\n      .attr('dx', 0)\n      .attr('dy', 0)\n      .attr('result', 'offsetBlur');\n\n    glowFilter.append('feFlood')\n      .attr('flood-color', '#3b82f6')\n      .attr('flood-opacity', '0.8')\n      .attr('result', 'glowColor');\n\n    glowFilter.append('feComposite')\n      .attr('in', 'glowColor')\n      .attr('in2', 'offsetBlur')\n      .attr('operator', 'in')\n      .attr('result', 'glowShape');\n\n    const feMerge = glowFilter.append('feMerge');\n    feMerge.append('feMergeNode').attr('in', 'glowShape');\n    feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    // Curved links for smoother appearance\n    const link = g.selectAll('.link')\n      .data(graphData.links)\n      .enter().append('path')\n      .attr('class', 'link')\n      .attr('fill', 'none')\n      .attr('marker-end', 'url(#arrowhead)')\n      .attr('stroke', '#9ca3af')\n      .attr('stroke-width', 2.5)\n      .attr('d', linkArc)\n      .style('transition', 'stroke 0.3s ease, stroke-width 0.3s ease');\n\n    // Link labels (hidden if empty)\n    const linkLabel = g.selectAll('.link-label')\n      .data(graphData.links)\n      .enter().append('text')\n      .attr('class', 'link-label')\n      .attr('font-size', 12)\n      .attr('fill', '#6b7280')\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'middle')\n      .attr('x', d => (d.source.x + d.target.x) / 2)\n      .attr('y', d => Math.min(d.source.y, d.target.y) - 15)\n      .style('pointer-events', 'none')\n      .text(d => d.label || '')\n      .style('display', d => d.label ? 'block' : 'none')\n      .style('text-shadow', '1px 1px 2px rgba(255,255,255,0.8)');\n\n    // Nodes with animations, hover glow\n    const node = g.selectAll('.node')\n      .data(graphData.nodes)\n      .enter().append('g')\n      .classed('node', true)\n      .attr('opacity', 0)\n      .style('transition', 'opacity 0.5s ease')\n      .call(d3.drag()\n        .on('start', dragstarted)\n        .on('drag', dragged)\n        .on('end', dragended)\n      )\n      .on('click', (event, d) => {\n        if (editingNodeId !== null) {\n          saveEditing();\n        }\n        setSelectedNodeName(d.name);\n      })\n      .on('dblclick', (event, d) => {\n        event.stopPropagation();\n        startEditing(d);\n      })\n      .on('mouseover', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#glow)')\n          .attr('stroke', '#3b82f6')\n          .attr('stroke-width', 4);\n        // Highlight outgoing links\n        g.selectAll('.link').filter(l => l.source.id === d.id)\n          .attr('stroke', '#3b82f6').attr('stroke-width', 3.5);\n      })\n      .on('mouseout', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#shadow)')\n          .attr('stroke', selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length])\n          .attr('stroke-width', selectedNodeName === d.name ? 4 : 2.5);\n        g.selectAll('.link').attr('stroke', '#9ca3af').attr('stroke-width', 2.5);\n      });\n\n    // Set node positions directly from tree layout\n    node\n      .attr('opacity', 0)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(0.5)`)\n      .transition()\n      .duration(500)\n      .attr('opacity', 1)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(1)`);\n\n    node.append('path')\n      .attr('d', getNodePath)\n      .attr('fill', d => {\n        switch (d.type) {\n          case 'page': return '#dbeafe';\n          case 'action': return '#dcfce7';\n          case 'decision': return '#fed7aa';\n          default: return '#f8fafc';\n        }\n      })\n      .attr('stroke', d => selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length])\n      .attr('stroke-width', d => selectedNodeName === d.name ? 4 : 2.5)\n      .attr('filter', 'url(#shadow)');\n\n    node.each(function(d) {\n      const group = d3.select(this);\n      if (d.id === editingNodeId) {\n        const foreignObject = group.append('foreignObject')\n          .attr('x', -80)\n          .attr('y', -30)\n          .attr('width', 160)\n          .attr('height', 60);\n\n        foreignObject.append('xhtml:input')\n          .attr('type', 'text')\n          .attr('value', editingText)\n          .style('width', '100%')\n          .style('height', '100%')\n          .style('border', 'none')\n          .style('outline', 'none')\n          .style('font-size', '14px')\n          .style('font-family', 'Inter, system-ui, sans-serif')\n          .style('font-weight', 'bold')\n          .style('text-align', 'center')\n          .style('display', 'flex')\n          .style('align-items', 'center')\n          .style('justify-content', 'center')\n          .on('input', function(event) {\n            setEditingText(event.target.value);\n          })\n          .on('keydown', function(event) {\n            if (event.key === 'Enter') {\n              saveEditing();\n            } else if (event.key === 'Escape') {\n              cancelEditing();\n            }\n          })\n          .on('blur', saveEditing);\n      } else {\n        group.append('text')\n          .attr('text-anchor', 'middle')\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('dy', '.35em')\n          .attr('font-size', '14px')\n          .attr('font-family', 'Inter, system-ui, sans-serif')\n          .attr('font-weight', 'bold')\n          .attr('fill', '#1f2937')\n          .text(d => d.name)\n          .style('pointer-events', 'none');\n      }\n    });\n\n    function linkArc(d) {\n      const source = d.source;\n      const target = d.target;\n      // Curved bezier line for smoother appearance\n      const dx = target.x - source.x;\n      const dy = target.y - source.y;\n      const cp1x = source.x + dx / 3;\n      const cp1y = source.y + dy / 2 - 20;\n      const cp2x = source.x + 2 * dx / 3;\n      const cp2y = target.y - dy / 2 + 20;\n      return `M ${source.x} ${source.y} C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${target.x} ${target.y}`;\n    }\n\n    function dragstarted(event, d) {\n      // No simulation, just start drag\n    }\n\n    function dragged(event, d) {\n      // Constrain both x and y\n      d.x = snapToGrid ? Math.round(event.x / 20) * 20 : event.x;\n      d.y = snapToGrid ? Math.round(event.y / 20) * 20 : event.y;\n      d3.select(this).attr('transform', `translate(${d.x}, ${d.y})`);\n      // Update links\n      link.attr('d', linkArc);\n      linkLabel\n        .attr('x', d => (d.source.x + d.target.x) / 2)\n        .attr('y', d => Math.min(d.source.y, d.target.y) - 15);\n    }\n\n    function dragended(event, d) {\n      // No simulation to stop\n    }\n  }, [graphData, error, width, height, colors, snapToGrid, selectedNodeName, startEditing, saveEditing, cancelEditing, editingNodeId, editingText, getNodePath]);\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"p-4 bg-white shadow-sm border-b flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-800\">IA Flowchart Diagram</h1>\n        <div className=\"flex flex-col items-end space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            <textarea\n              value={inputText}\n              onChange={(e) => setInputText(e.target.value)}\n              disabled={loading}\n              className=\"w-80 h-20 p-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none resize-none text-sm placeholder-gray-500\"\n              placeholder=\"Describe your IA, e.g., 'Home page, browse products, if logged in go to profile, else login'\"\n            />\n            <button \n              onClick={generateIA} \n              disabled={loading}\n              className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\"\n            >\n              Generate IA\n            </button>\n            <input\n              type=\"file\"\n              accept=\".json\"\n              onChange={handleFileUpload}\n              disabled={loading}\n              className=\"file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n            />\n          </div>\n          <button \n            onClick={fetchData} \n            disabled={loading} \n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 self-end\"\n          >\n            Refresh\n          </button>\n        </div>\n      </div>\n      {loading && <p className=\"p-2 text-blue-500 text-center\">Uploading...</p>}\n      {error && <p className=\"p-2 text-red-500 text-center\">{error}</p>}\n      <div className=\"flex-1 relative\">\n        <svg ref={svgRef} width={width} height={height} className=\"absolute inset-0 w-full h-full bg-white\">\n        </svg>\n        {/* Floating Toolbar */}\n        <div className=\"absolute top-4 right-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\">\n          <button onClick={zoomIn} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">+</button>\n          <button onClick={zoomOut} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">-</button>\n          <button onClick={fitToScreen} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\"></button>\n          <button onClick={resetView} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\"></button>\n          <button onClick={addNode} className=\"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\">+</button>\n          <button onClick={deleteNode} disabled={selectedNodeName === null} className=\"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\"></button>\n          <button onClick={() => setSnapToGrid(!snapToGrid)} className={`px-2 py-1 text-xs rounded text-gray-700 shadow-sm ${snapToGrid ? 'bg-green-100' : 'bg-gray-100 hover:bg-gray-200'}`}></button>\n        </div>\n        {/* Legend */}\n        <div className=\"absolute bottom-4 right-4 bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-10 max-w-xs backdrop-blur-sm\">\n          <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">Legend</h3>\n          <div className=\"space-y-1 text-xs text-gray-700\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-blue-600\">Rectangle = Page / Screen</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-green-600\">Oval = Process / Action</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-orange-600\">Diamond = Decision</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\"></span>\n              <span>Solid line = Direct navigation</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\">- - -</span>\n              <span>Dashed line = Related link</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}