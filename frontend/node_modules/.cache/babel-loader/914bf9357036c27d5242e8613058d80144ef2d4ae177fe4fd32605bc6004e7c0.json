{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AIChat(){const[aiPrompt,setAiPrompt]=useState('');const[conversation,setConversation]=useState([]);const[aiLoading,setAiLoading]=useState(false);const[error,setError]=useState('');const conversationEndRef=useRef(null);useEffect(()=>{if(conversationEndRef.current){conversationEndRef.current.scrollTop=conversationEndRef.current.scrollHeight;}},[conversation]);useEffect(()=>{// Load conversations from DB on mount\nfetch('http://localhost:3003/conversations').then(res=>res.json()).then(data=>setConversation(data.messages||[])).catch(err=>console.error('Failed to load conversations',err));},[]);// Function to render text with clickable links\nconst renderTextWithLinks=text=>{const urlRegex=/(https?:\\/\\/[^\\s]+)/g;const parts=text.split(urlRegex);return parts.map((part,index)=>{if(urlRegex.test(part)){return/*#__PURE__*/_jsx(\"a\",{href:part,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-600 underline\",children:part},index);}else{return/*#__PURE__*/_jsx(\"span\",{children:part},index);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-white shadow-sm border-b flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/app\",className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",children:\"\\u2190 Diagram\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"AI Chat\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col p-4\",children:[/*#__PURE__*/_jsx(\"div\",{ref:conversationEndRef,className:\"flex flex-col flex-1 overflow-y-auto mb-4 border border-gray-300 bg-white p-4 space-y-2 rounded-md\",children:conversation.map((entry,index)=>{// Function to parse code blocks in message\nconst parseCodeBlocks=text=>{const regex=/```(\\w+)?\\n([\\s\\S]*?)```/g;const parts=[];let lastIndex=0;let match;while((match=regex.exec(text))!==null){if(match.index>lastIndex){parts.push({type:'text',content:text.substring(lastIndex,match.index)});}parts.push({type:'code',lang:match[1]||'',content:match[2]});lastIndex=regex.lastIndex;}if(lastIndex<text.length){parts.push({type:'text',content:text.substring(lastIndex)});}return parts;};// Render code block UI\nconst CodeBlock=_ref=>{let{lang,content}=_ref;const copyCode=()=>{navigator.clipboard.writeText(content);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gray-900 text-gray-100 rounded-md p-4 font-mono text-sm overflow-auto my-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold\",children:lang||'code'}),/*#__PURE__*/_jsxs(\"button\",{onClick:copyCode,className:\"text-gray-400 hover:text-white text-xs flex items-center space-x-1\",\"aria-label\":\"Copy code\",title:\"Copy code\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,className:\"w-4 h-4\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"8\",y:\"8\",width:\"12\",height:\"12\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"4\",y:\"4\",width:\"12\",height:\"12\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy code\"})]})]}),/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap\",children:content})]});};if(entry.sender==='ai'){// Remove ** signs from AI message\nconst cleanedMessage=entry.message.replace(/\\*\\*/g,'');// Replace specific text pattern in AI message\nconst modifiedMessage=cleanedMessage.replace(/Python is a popular and powerful computer programming language\\./g,'Python is a \" popular and powerful computer programming language\" .');const parts=parseCodeBlocks(modifiedMessage);return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-full break-words rounded-lg px-4 py-2 whitespace-pre-wrap self-start bg-gray-300 text-gray-900 flex flex-col\",children:[parts.map((part,i)=>{if(part.type==='code'){return/*#__PURE__*/_jsx(CodeBlock,{lang:part.lang,content:part.content},i);}else{return renderTextWithLinks(part.content);}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigator.clipboard.writeText(modifiedMessage),className:\"self-start mt-2 flex items-center space-x-1 text-gray-600 hover:text-gray-900 text-xs\",\"aria-label\":\"Copy AI answer\",title:\"Copy AI answer\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,className:\"w-4 h-4\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"8\",y:\"8\",width:\"12\",height:\"12\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"4\",y:\"4\",width:\"12\",height:\"12\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})]})]},index);}else{return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-full break-words rounded-lg px-4 py-2 whitespace-pre-wrap self-end bg-blue-500 text-white\",children:/*#__PURE__*/_jsx(\"span\",{children:entry.message})},index);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full rounded border border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:aiPrompt,onChange:e=>setAiPrompt(e.target.value),className:\"flex-grow p-3 focus:outline-none pr-12 bg-transparent rounded-l text-gray-700\",placeholder:\"Send a message\",disabled:aiLoading,onKeyDown:e=>{if(e.key==='Enter'&&!aiLoading){e.preventDefault();if(!aiPrompt.trim()){setError('Please enter a prompt for AI.');return;}setAiLoading(true);setError('');// Add user message to conversation (append to bottom)\nsetConversation(prev=>[...prev,{sender:'user',message:aiPrompt}]);fetch('http://localhost:3003/ai',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt:aiPrompt})}).then(response=>{if(!response.ok){throw new Error('Failed to get AI response');}return response.json();}).then(data=>{// Add AI response to conversation (append to bottom)\nsetConversation(prev=>[...prev,{sender:'ai',message:data.response}]);setAiPrompt('');// Clear input after sending\n}).catch(()=>{setError('Error fetching AI response.');}).finally(()=>{setAiLoading(false);});}}}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(!aiPrompt.trim()){setError('Please enter a prompt for AI.');return;}setAiLoading(true);setError('');// Add user message to conversation (append to bottom)\nsetConversation(prev=>[...prev,{sender:'user',message:aiPrompt}]);try{const response=await fetch('http://localhost:3003/ai',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt:aiPrompt})});if(!response.ok){throw new Error('Failed to get AI response');}const data=await response.json();// Add AI response to conversation (append to bottom)\nsetConversation(prev=>[...prev,{sender:'ai',message:data.response}]);setAiPrompt('');// Clear input after sending\n}catch(err){setError('Error fetching AI response.');}finally{setAiLoading(false);}},disabled:aiLoading,className:\"p-3 text-gray-600 rounded-r hover:bg-gray-200 disabled:opacity-50 flex items-center justify-center\",\"aria-label\":\"Send to AI\",children:aiLoading?'⏳':'➤'})]})]})]});}export default AIChat;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","jsx","_jsx","jsxs","_jsxs","AIChat","aiPrompt","setAiPrompt","conversation","setConversation","aiLoading","setAiLoading","error","setError","conversationEndRef","current","scrollTop","scrollHeight","fetch","then","res","json","data","messages","catch","err","console","renderTextWithLinks","text","urlRegex","parts","split","map","part","index","test","href","target","rel","className","children","to","role","ref","entry","parseCodeBlocks","regex","lastIndex","match","exec","push","type","content","substring","lang","length","CodeBlock","_ref","copyCode","navigator","clipboard","writeText","onClick","title","xmlns","fill","viewBox","stroke","strokeWidth","x","y","width","height","strokeLinecap","strokeLinejoin","sender","cleanedMessage","message","replace","modifiedMessage","i","value","onChange","e","placeholder","disabled","onKeyDown","key","preventDefault","trim","prev","method","headers","body","JSON","stringify","prompt","response","ok","Error","finally"],"sources":["/Users/anbschool0009/Desktop/untitled folder 3/IA-Mate-repo/frontend/src/AIChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction AIChat() {\n  const [aiPrompt, setAiPrompt] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const [aiLoading, setAiLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const conversationEndRef = useRef(null);\n\n  useEffect(() => {\n    if (conversationEndRef.current) {\n      conversationEndRef.current.scrollTop = conversationEndRef.current.scrollHeight;\n    }\n  }, [conversation]);\n\n  useEffect(() => {\n    // Load conversations from DB on mount\n    fetch('http://localhost:3003/conversations')\n      .then(res => res.json())\n      .then(data => setConversation(data.messages || []))\n      .catch(err => console.error('Failed to load conversations', err));\n  }, []);\n\n  // Function to render text with clickable links\n  const renderTextWithLinks = (text) => {\n    const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    const parts = text.split(urlRegex);\n    return parts.map((part, index) => {\n      if (urlRegex.test(part)) {\n        return <a key={index} href={part} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 underline\">{part}</a>;\n      } else {\n        return <span key={index}>{part}</span>;\n      }\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"p-4 bg-white shadow-sm border-b flex justify-between items-center\">\n        <div className=\"flex items-center space-x-4\">\n          <Link to=\"/app\" className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n            ← Diagram\n          </Link>\n          <h1 className=\"text-2xl font-bold text-gray-800\">AI Chat</h1>\n        </div>\n      </div>\n      {error && <div className=\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\" role=\"alert\">{error}</div>}\n      <div className=\"flex-1 flex flex-col p-4\">\n        <div ref={conversationEndRef} className=\"flex flex-col flex-1 overflow-y-auto mb-4 border border-gray-300 bg-white p-4 space-y-2 rounded-md\">\n          {conversation.map((entry, index) => {\n            // Function to parse code blocks in message\n            const parseCodeBlocks = (text) => {\n              const regex = /```(\\w+)?\\n([\\s\\S]*?)```/g;\n              const parts = [];\n              let lastIndex = 0;\n              let match;\n              while ((match = regex.exec(text)) !== null) {\n                if (match.index > lastIndex) {\n                  parts.push({ type: 'text', content: text.substring(lastIndex, match.index) });\n                }\n                parts.push({ type: 'code', lang: match[1] || '', content: match[2] });\n                lastIndex = regex.lastIndex;\n              }\n              if (lastIndex < text.length) {\n                parts.push({ type: 'text', content: text.substring(lastIndex) });\n              }\n              return parts;\n            };\n\n            // Render code block UI\n            const CodeBlock = ({ lang, content }) => {\n              const copyCode = () => {\n                navigator.clipboard.writeText(content);\n              };\n              return (\n                <div className=\"relative bg-gray-900 text-gray-100 rounded-md p-4 font-mono text-sm overflow-auto my-2\">\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <span className=\"text-xs font-semibold\">{lang || 'code'}</span>\n                    <button\n                      onClick={copyCode}\n                      className=\"text-gray-400 hover:text-white text-xs flex items-center space-x-1\"\n                      aria-label=\"Copy code\"\n                      title=\"Copy code\"\n                    >\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} className=\"w-4 h-4\">\n                        <rect x=\"8\" y=\"8\" width=\"12\" height=\"12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                        <rect x=\"4\" y=\"4\" width=\"12\" height=\"12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                      </svg>\n                      <span>Copy code</span>\n                    </button>\n                  </div>\n                  <pre className=\"whitespace-pre-wrap\">{content}</pre>\n                </div>\n              );\n            };\n\n            if (entry.sender === 'ai') {\n              // Remove ** signs from AI message\n              const cleanedMessage = entry.message.replace(/\\*\\*/g, '');\n              // Replace specific text pattern in AI message\n              const modifiedMessage = cleanedMessage.replace(\n                /Python is a popular and powerful computer programming language\\./g,\n                'Python is a \" popular and powerful computer programming language\" .'\n              );\n              const parts = parseCodeBlocks(modifiedMessage);\n              return (\n                <div\n                  key={index}\n                  className=\"max-w-full break-words rounded-lg px-4 py-2 whitespace-pre-wrap self-start bg-gray-300 text-gray-900 flex flex-col\"\n                >\n                  {parts.map((part, i) => {\n                    if (part.type === 'code') {\n                      return <CodeBlock key={i} lang={part.lang} content={part.content} />;\n                    } else {\n                      return renderTextWithLinks(part.content);\n                    }\n                  })}\n                  <button\n                    onClick={() => navigator.clipboard.writeText(modifiedMessage)}\n                    className=\"self-start mt-2 flex items-center space-x-1 text-gray-600 hover:text-gray-900 text-xs\"\n                    aria-label=\"Copy AI answer\"\n                    title=\"Copy AI answer\"\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} className=\"w-4 h-4\">\n                      <rect x=\"8\" y=\"8\" width=\"12\" height=\"12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                      <rect x=\"4\" y=\"4\" width=\"12\" height=\"12\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                    </svg>\n                    <span>Copy</span>\n                  </button>\n                </div>\n              );\n            } else {\n              return (\n                <div\n                  key={index}\n                  className=\"max-w-full break-words rounded-lg px-4 py-2 whitespace-pre-wrap self-end bg-blue-500 text-white\"\n                >\n                  <span>{entry.message}</span>\n                </div>\n              );\n            }\n          })}\n        </div>\n        <div className=\"relative w-full rounded border border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 flex items-center\">\n          <input\n            type=\"text\"\n            value={aiPrompt}\n            onChange={(e) => setAiPrompt(e.target.value)}\n            className=\"flex-grow p-3 focus:outline-none pr-12 bg-transparent rounded-l text-gray-700\"\n            placeholder=\"Send a message\"\n            disabled={aiLoading}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !aiLoading) {\n                e.preventDefault();\n                if (!aiPrompt.trim()) {\n                  setError('Please enter a prompt for AI.');\n                  return;\n                }\n                setAiLoading(true);\n                setError('');\n                // Add user message to conversation (append to bottom)\n                setConversation(prev => [...prev, { sender: 'user', message: aiPrompt }]);\n                fetch('http://localhost:3003/ai', {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify({ prompt: aiPrompt }),\n                })\n                  .then(response => {\n                    if (!response.ok) {\n                      throw new Error('Failed to get AI response');\n                    }\n                    return response.json();\n                  })\n                  .then(data => {\n                    // Add AI response to conversation (append to bottom)\n                    setConversation(prev => [...prev, { sender: 'ai', message: data.response }]);\n                    setAiPrompt(''); // Clear input after sending\n                  })\n                  .catch(() => {\n                    setError('Error fetching AI response.');\n                  })\n                  .finally(() => {\n                    setAiLoading(false);\n                  });\n              }\n            }}\n          />\n          <button\n            onClick={async () => {\n              if (!aiPrompt.trim()) {\n                setError('Please enter a prompt for AI.');\n                return;\n              }\n              setAiLoading(true);\n              setError('');\n              // Add user message to conversation (append to bottom)\n              setConversation(prev => [...prev, { sender: 'user', message: aiPrompt }]);\n              try {\n                const response = await fetch('http://localhost:3003/ai', {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify({ prompt: aiPrompt }),\n                });\n                if (!response.ok) {\n                  throw new Error('Failed to get AI response');\n                }\n                const data = await response.json();\n                // Add AI response to conversation (append to bottom)\n                setConversation(prev => [...prev, { sender: 'ai', message: data.response }]);\n                setAiPrompt(''); // Clear input after sending\n              } catch (err) {\n                setError('Error fetching AI response.');\n              } finally {\n                setAiLoading(false);\n              }\n            }}\n            disabled={aiLoading}\n            className=\"p-3 text-gray-600 rounded-r hover:bg-gray-200 disabled:opacity-50 flex items-center justify-center\"\n            aria-label=\"Send to AI\"\n          >\n            {aiLoading ? '⏳' : '➤'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AIChat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}