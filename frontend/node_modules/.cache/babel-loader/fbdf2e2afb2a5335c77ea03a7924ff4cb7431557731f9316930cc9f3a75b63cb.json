{"ast":null,"code":"import _objectSpread from\"/Users/anbschool0009/Desktop/untitled folder 3/IA-Mate-repo/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback,useMemo}from'react';import*as d3 from'd3';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function IAFlowchart(){const navigate=useNavigate();const[iaData,setIaData]=useState(null);const[graphData,setGraphData]=useState({nodes:[],links:[]});const[snapToGrid,setSnapToGrid]=useState(false);const[editingNodeId,setEditingNodeId]=useState(null);const[editingText,setEditingText]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const[width,setWidth]=useState(800);const[height,setHeight]=useState(600);const[selectedNodeName,setSelectedNodeName]=useState(null);const[inputText,setInputText]=useState('');// Removed aiResponse and setAiResponse state\nconst[legendPosition,setLegendPosition]=useState({x:80,y:200});const[isDraggingLegend,setIsDraggingLegend]=useState(false);const[dragOffset,setDragOffset]=useState({x:0,y:0});const svgRef=useRef();const zoomRef=useRef();const gRef=useRef();const templates=useMemo(()=>({'e-commerce':{name:'E-commerce Site',type:'page',children:[{name:'Home',type:'page',description:'Landing page with featured products and promotions'},{name:'Browse Products',type:'action',description:'User browses product categories and lists',children:[{name:'Product Details',type:'page',description:'Detailed view of a selected product with images, specs, and reviews'}]},{name:'Shopping Cart',type:'page',description:'View and manage products added to cart'},{name:'Checkout',type:'action',label:'Proceed to payment',description:'User enters shipping and billing information'},{name:'Login Required?',type:'decision',description:'Check if user is logged in before checkout',children:[{name:'Authentication Page',type:'page',description:'User authentication flow',children:[{name:'Sign Up',type:'action',children:[{name:'Input Personal Info',type:'action',description:'User inputs personal information'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Home Page',type:'page',description:'User redirected after successful sign up'}]}]},{name:'Sign Up with Google',type:'action',description:'User signs up using Google OAuth',children:[{name:'Home Page',type:'page',description:'User redirected after successful Google sign up'}]},{name:'Login',type:'action',children:[{name:'Enter Email and Password',type:'action',description:'User enters login credentials'},{name:'Login Success',type:'decision',children:[{name:'Home Page',type:'page',description:'User redirected after successful login'}]},{name:'Forget Password',type:'action',children:[{name:'Enter Email',type:'action',description:'User enters email for password reset'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Set New Password',type:'action',description:'User sets a new password'},{name:'Home Page',type:'page',description:'User redirected after password reset'}]}]}]}]},{name:'Guest Checkout',type:'page',linkType:'related',label:'Alternative path',description:'Checkout without account'}]},{name:'Payment Method',type:'decision',description:'User selects payment method',children:[{name:'Credit Card',type:'page',label:'Choose Card',description:'Enter credit card details securely'},{name:'PayPal',type:'action',label:'Redirect to PayPal',description:'Redirect to PayPal for payment authorization'}]},{name:'Order Confirmation',type:'page',description:'Order summary and confirmation details'},{name:'User Profile',type:'page',linkType:'related',description:'User account management and order history'}]},'portfolio':{name:'Portfolio Site',type:'page',children:[{name:'Home',type:'page',description:'Introduction and overview'},{name:'About Me',type:'page',description:'Personal bio and background'},{name:'Projects',type:'page',description:'Showcase of projects with details',children:[{name:'Project 1',type:'page',description:'Details and media for project 1'},{name:'Project 2',type:'page',description:'Details and media for project 2'}]},{name:'Contact',type:'page',description:'Contact form and social links'},{name:'Blog',type:'page',linkType:'related',description:'Articles and updates'},{name:'Admin Login Required?',type:'decision',description:'Check if admin is logged in for editing',children:[{name:'Authentication Page',type:'page',description:'Admin authentication flow',children:[{name:'Sign Up',type:'action',children:[{name:'Input Personal Info',type:'action',description:'User inputs personal information'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Admin Dashboard',type:'page',description:'User redirected after successful sign up'}]}]},{name:'Sign Up with Google',type:'action',description:'User signs up using Google OAuth',children:[{name:'Admin Dashboard',type:'page',description:'User redirected after successful Google sign up'}]},{name:'Login',type:'action',children:[{name:'Enter Email and Password',type:'action',description:'User enters login credentials'},{name:'Login Success',type:'decision',children:[{name:'Admin Dashboard',type:'page',description:'User redirected after successful login'}]},{name:'Forget Password',type:'action',children:[{name:'Enter Email',type:'action',description:'User enters email for password reset'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Set New Password',type:'action',description:'User sets a new password'},{name:'Admin Dashboard',type:'page',description:'User redirected after password reset'}]}]}]}]},{name:'Public View',type:'page',linkType:'related',label:'Alternative path',description:'View portfolio without login'}]}]},'blog':{name:'Blog Site',type:'page',children:[{name:'Home',type:'page',description:'Latest posts and featured content'},{name:'Posts List',type:'page',description:'List of blog posts',children:[{name:'Single Post',type:'page',description:'Full content of a single blog post'}]},{name:'Categories',type:'decision',description:'Filter posts by category',children:[{name:'Technology',type:'page',description:'Posts about technology'},{name:'Design',type:'page',description:'Posts about design'},{name:'Lifestyle',type:'page',description:'Posts about lifestyle'}]},{name:'About',type:'page',description:'About the blog and author'},{name:'Login Required?',type:'decision',description:'Check if user is logged in for commenting',children:[{name:'Authentication Page',type:'page',description:'User authentication flow',children:[{name:'Sign Up',type:'action',children:[{name:'Input Personal Info',type:'action',description:'User inputs personal information'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Comments Section',type:'action',description:'User redirected after successful sign up to comment'}]}]},{name:'Sign Up with Google',type:'action',description:'User signs up using Google OAuth',children:[{name:'Comments Section',type:'action',description:'User redirected after successful Google sign up to comment'}]},{name:'Login',type:'action',children:[{name:'Enter Email and Password',type:'action',description:'User enters login credentials'},{name:'Login Success',type:'decision',children:[{name:'Comments Section',type:'action',description:'User redirected after successful login to comment'}]},{name:'Forget Password',type:'action',children:[{name:'Enter Email',type:'action',description:'User enters email for password reset'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Set New Password',type:'action',description:'User sets a new password'},{name:'Comments Section',type:'action',description:'User redirected after password reset to comment'}]}]}]}]},{name:'Guest Comments',type:'action',linkType:'related',label:'Alternative path',description:'Comment without account'}]}]},'restaurant':{name:'Restaurant Site',type:'page',children:[{name:'Home',type:'page',description:'Welcome and featured dishes'},{name:'Menu',type:'page',description:'Full menu with categories'},{name:'Browse Dishes',type:'action',description:'User browses dishes by category',children:[{name:'Dish Details',type:'page',description:'Details and ingredients of a dish'}]},{name:'Login Required?',type:'decision',description:'Check if user is logged in before ordering',children:[{name:'Authentication Page',type:'page',description:'User authentication flow',children:[{name:'Sign Up',type:'action',children:[{name:'Input Personal Info',type:'action',description:'User inputs personal information'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Order Online',type:'decision',description:'Choose order type after sign up'}]}]},{name:'Sign Up with Google',type:'action',description:'User signs up using Google OAuth',children:[{name:'Order Online',type:'decision',description:'Choose order type after Google sign up'}]},{name:'Login',type:'action',children:[{name:'Enter Email and Password',type:'action',description:'User enters login credentials'},{name:'Login Success',type:'decision',children:[{name:'Order Online',type:'decision',description:'Choose order type after login'}]},{name:'Forget Password',type:'action',children:[{name:'Enter Email',type:'action',description:'User enters email for password reset'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Set New Password',type:'action',description:'User sets a new password'},{name:'Order Online',type:'decision',description:'Choose order type after password reset'}]}]}]}]},{name:'Order as Guest',type:'decision',linkType:'related',label:'Alternative path',description:'Order without account'}]},{name:'Order Online',type:'decision',description:'Choose order type',children:[{name:'Dine In',type:'page',label:'Reserve table',description:'Table reservation system'},{name:'Takeaway',type:'action',label:'Quick order',description:'Order for pickup or delivery'}]},{name:'Reservations',type:'page',description:'Manage reservations'},{name:'Contact',type:'page',linkType:'related',description:'Contact information and form'},{name:'Reviews',type:'page',description:'Customer reviews and ratings'}]},'university':{name:'University Site',type:'page',children:[{name:'Home',type:'page',description:'University overview and news'},{name:'Admissions',type:'decision',description:'Admission process options',children:[{name:'Apply Online',type:'action',description:'Online application form'},{name:'Visit Campus',type:'page',linkType:'related',description:'Campus visit scheduling'}]},{name:'Courses',type:'page',description:'Course catalog and details'},{name:'Enroll',type:'action',description:'Enrollment process',children:[{name:'Course Details',type:'page',description:'Detailed course information'}]},{name:'Library',type:'page',description:'Library resources and search'},{name:'Resources',type:'page',linkType:'related',description:'Student resources and support'},{name:'Contact',type:'page',description:'Contact information'}]},'banking app':{name:'Banking App',type:'page',children:[{name:'Login Required?',type:'decision',description:'Check if user is logged in before accessing dashboard',children:[{name:'Authentication Page',type:'page',description:'User authentication flow',children:[{name:'Sign Up',type:'action',children:[{name:'Input Personal Info',type:'action',description:'User inputs personal information'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Dashboard',type:'page',description:'User redirected after successful sign up'}]}]},{name:'Sign Up with Google',type:'action',description:'User signs up using Google OAuth',children:[{name:'Dashboard',type:'page',description:'User redirected after successful Google sign up'}]},{name:'Login',type:'action',children:[{name:'Enter Email and Password',type:'action',description:'User enters login credentials'},{name:'Login Success',type:'decision',children:[{name:'Dashboard',type:'page',description:'User redirected after successful login'}]},{name:'Forget Password',type:'action',children:[{name:'Enter Email',type:'action',description:'User enters email for password reset'},{name:'Enter OTP Code',type:'action',description:'User enters OTP code for verification'},{name:'OTP Verified',type:'decision',children:[{name:'Set New Password',type:'action',description:'User sets a new password'},{name:'Dashboard',type:'page',description:'User redirected after password reset'}]}]}]}]},{name:'Guest Access',type:'page',linkType:'related',label:'Alternative path',description:'Access without login'}]},{name:'Dashboard',type:'page',description:'Account overview and summary'},{name:'Transfer Funds',type:'decision',description:'Choose transfer type',children:[{name:'Internal Transfer',type:'action',description:'Transfer between user accounts'},{name:'External Transfer',type:'page',label:'To other banks',description:'Transfer to external accounts'}]},{name:'Account Details',type:'page',description:'Detailed account information'},{name:'Support',type:'page',linkType:'related',description:'Customer support and FAQs'},{name:'Transactions',type:'page',description:'Transaction history and statements'}]},'social media':{name:'Social Media Platform',type:'page',children:[{name:'Login',type:'action',description:'User login and registration'},{name:'Feed',type:'page',description:'User posts and updates'},{name:'Create Post',type:'action',description:'Post creation workflow',children:[{name:'Add Media',type:'page',description:'Upload images or videos'},{name:'Post Options',type:'decision',description:'Privacy and tagging options'}]},{name:'Profile',type:'page',description:'User profile and settings'},{name:'Notifications',type:'page',description:'User notifications',children:[{name:'Likes',type:'action',description:'Likes on posts'},{name:'Comments',type:'action',description:'Comments on posts'}]},{name:'Messages',type:'page',linkType:'related',description:'Private messaging'},{name:'Settings',type:'page',description:'Account and privacy settings'}]},'news website':{name:'News Website',type:'page',children:[{name:'Home',type:'page',description:'Latest news and headlines'},{name:'News Categories',type:'decision',description:'Filter news by category',children:[{name:'Politics',type:'page',description:'Political news'},{name:'Sports',type:'page',description:'Sports news'},{name:'Entertainment',type:'page',description:'Entertainment news'}]},{name:'Article Page',type:'page',description:'Full news article',children:[{name:'Comments',type:'action',description:'User comments on articles'},{name:'Share',type:'action',description:'Social sharing options'}]},{name:'Search',type:'action',description:'Search news articles'},{name:'About',type:'page',linkType:'related',description:'About the news organization'},{name:'Contact',type:'page',description:'Contact information'}]},'learning management system':{name:'Learning Management System',type:'page',children:[{name:'Login',type:'action',description:'User authentication'},{name:'Dashboard',type:'page',description:'Overview of courses and progress'},{name:'Courses',type:'page',description:'List of courses',children:[{name:'Course Content',type:'page',description:'Lessons and materials'},{name:'Assignments',type:'action',description:'Assignment submission and grading'}]},{name:'Grades',type:'page',description:'View grades and feedback',children:[{name:'View Grades',type:'action',description:'Detailed grade reports'},{name:'Feedback',type:'page',description:'Instructor feedback'}]},{name:'Discussion Forums',type:'page',linkType:'related',description:'Course discussions and Q&A'},{name:'Profile',type:'page',description:'User profile and settings'}]},'fitness app':{name:'Fitness App',type:'page',children:[{name:'Login',type:'action',description:'User authentication'},{name:'Home Dashboard',type:'page',description:'Overview of fitness stats'},{name:'Workouts',type:'decision',description:'Workout selection and tracking',children:[{name:'Start Workout',type:'action',description:'Begin a workout session'},{name:'View History',type:'page',description:'Past workout records'}]},{name:'Progress Tracking',type:'page',description:'Track fitness progress over time'},{name:'Nutrition',type:'page',description:'Diet and meal planning',children:[{name:'Meal Plans',type:'action',description:'Create and manage meal plans'},{name:'Calorie Counter',type:'page',description:'Track daily calorie intake'}]},{name:'Community',type:'page',linkType:'related',description:'Social features and groups'},{name:'Settings',type:'page',description:'App settings and preferences'}]},'travel booking':{name:'Travel Booking Site',type:'page',children:[{name:'Home',type:'page',description:'Welcome and featured destinations'},{name:'Search Flights/Hotels',type:'action',description:'Search for flights and hotels',children:[{name:'Flight Results',type:'page',description:'List of available flights'},{name:'Hotel Results',type:'page',description:'List of available hotels'}]},{name:'Booking Details',type:'page',description:'Review booking information'},{name:'Payment',type:'decision',description:'Select payment method',children:[{name:'Credit Card',type:'action',description:'Enter credit card details'},{name:'PayPal',type:'action',description:'Pay via PayPal'}]},{name:'Confirmation',type:'page',description:'Booking confirmation and receipt'},{name:'My Trips',type:'page',linkType:'related',description:'Manage upcoming and past trips'},{name:'Support',type:'page',description:'Customer support and FAQs'}]}}),[]);const genericTemplate=useMemo(()=>({name:'Generic Site',type:'page',children:[{name:'Home',type:'page'},{name:'Services',type:'page'},{name:'Service Selection',type:'decision',children:[{name:'Basic Service',type:'action'},{name:'Premium Service',type:'page'}]},{name:'Blog',type:'page',linkType:'related'},{name:'Login',type:'action'},{name:'Contact',type:'page'},{name:'Checkout',type:'decision',children:[{name:'Payment Methods',type:'page'},{name:'Order Review',type:'action'}]},{name:'Payment',type:'page'}]}),[]);const colors=useMemo(()=>['#f8fafc','#e2e8f0','#cbd5e1','#94a3b8','#64748b'],[]);const hierarchyToGraph=useCallback(data=>{const nodes=[];const links=[];// Use tree layout for initial positions to avoid random overlaps\nconst treeLayout=d3.tree().size([height-100,width-200]);const root=d3.hierarchy(data);treeLayout(root);const traverse=function(d){let parentId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let depth=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;const id=nodes.length;const hasChildren=d.children&&d.children.length>0;nodes.push({id,name:d.data.name,type:d.data.type||'action',x:d.y+width/2,// Horizontal tree\ny:d.x+height/2,depth,fx:d.y+width/2,fy:d.x+height/2,hasChildren});if(parentId!==null){links.push({source:nodes[parentId],target:nodes[id],label:d.data.label||'',type:d.data.linkType||'direct'});}if(d.children){d.children.forEach(child=>traverse(child,id,depth+1));}};traverse(root);return{nodes,links};},[width,height]);// Define recursive functions using useCallback to avoid parsing issues\nconst addChildToNode=useCallback((root,parentName,newChild)=>{if(root.name===parentName){root.children=root.children||[];root.children.push(newChild);return root;}if(root.children){for(let i=0;i<root.children.length;i++){const updated=addChildToNode(root.children[i],parentName,newChild);if(updated){root.children[i]=updated;return root;}}}return null;},[]);const removeNodeByName=useCallback((root,targetName)=>{if(root.name===targetName){return null;// Remove this node\n}if(root.children){root.children=root.children.map(child=>removeNodeByName(child,targetName)).filter(Boolean);return root;}return root;},[]);useEffect(()=>{const handleResize=()=>{setWidth(window.innerWidth-40);setHeight(window.innerHeight-200);};handleResize();window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// Removed JSON upload feature, replaced with Referent feature placeholder\n// const handleFileUpload = async (event) => {\n//   const file = event.target.files[0];\n//   if (!file) return;\n//   if (!file.name.endsWith('.json')) {\n//     setError('Please select a JSON file.');\n//     return;\n//   }\n//   setLoading(true);\n//   setError('');\n//   try {\n//     const text = await file.text();\n//     const jsonData = JSON.parse(text);\n//     setIaData(jsonData);\n//     setError('');\n//   } catch (err) {\n//     setError('Invalid JSON file.');\n//   } finally {\n//     setLoading(false);\n//   }\n// };\nuseEffect(()=>{if(iaData){setGraphData(hierarchyToGraph(iaData));}},[iaData,hierarchyToGraph]);const fetchData=async()=>{try{const response=await fetch('http://localhost:3003/ia');if(response.ok){const data=await response.json();setIaData(data);setError('');}else{setIaData(null);setError('');}}catch(err){setError('Failed to fetch data.');}};const zoomIn=useCallback(()=>{if(zoomRef.current){zoomRef.current.scaleBy(d3.select(svgRef.current),1.2);}},[]);const zoomOut=useCallback(()=>{if(zoomRef.current){zoomRef.current.scaleBy(d3.select(svgRef.current),0.8);}},[]);const fitToScreen=useCallback(()=>{if(gRef.current&&svgRef.current){const bounds=gRef.current.getBBox();const fullWidth=width;const fullHeight=height;const midX=bounds.x+bounds.width/2;const midY=bounds.y+bounds.height/2;const scale=0.85;const translate=[fullWidth/2-scale*midX,fullHeight/2-scale*midY];zoomRef.current.transform(d3.select(svgRef.current),d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale));}},[width,height]);const resetView=useCallback(()=>{if(zoomRef.current){zoomRef.current.transform(d3.select(svgRef.current),d3.zoomIdentity);}},[]);const addNode=useCallback(()=>{if(!selectedNodeName||!iaData)return;const newChild={name:\"New Node \".concat(Date.now()),type:'action',children:[]};const newIaData=JSON.parse(JSON.stringify(iaData));// Deep copy\naddChildToNode(newIaData,selectedNodeName,newChild);setIaData(newIaData);setSelectedNodeName(null);},[iaData,selectedNodeName,addChildToNode]);const deleteNode=useCallback(()=>{if(!selectedNodeName||!iaData)return;const newIaData=JSON.parse(JSON.stringify(iaData));// Deep copy\nconst updatedRoot=removeNodeByName(newIaData,selectedNodeName);if(updatedRoot){setIaData(updatedRoot);}else{setIaData(null);}setSelectedNodeName(null);},[iaData,selectedNodeName,removeNodeByName]);const startEditing=useCallback(d=>{setEditingNodeId(d.id);setEditingText(d.name);},[]);const saveEditing=useCallback(()=>{if(editingNodeId!==null){setGraphData(prev=>_objectSpread(_objectSpread({},prev),{},{nodes:prev.nodes.map(n=>n.id===editingNodeId?_objectSpread(_objectSpread({},n),{},{name:editingText}):n)}));setEditingNodeId(null);setEditingText('');}},[editingNodeId,editingText]);const cancelEditing=useCallback(()=>{setEditingNodeId(null);setEditingText('');},[]);const getNodePath=useCallback(d=>{const w=80;// half width 160\nconst h=30;// half height 60\nconst rx=8;const ry=8;switch(d.type){case'action':// Oval (ellipse)\nreturn\"M \".concat(-w,\" 0 A \").concat(w,\" \").concat(h,\" 0 1 1 \").concat(w,\" 0 A \").concat(w,\" \").concat(h,\" 0 1 1 \").concat(-w,\" 0 Z\");case'decision':// Diamond\nreturn\"M 0 \".concat(-h,\" L \").concat(w,\" 0 L 0 \").concat(h,\" L \").concat(-w,\" 0 Z\");case'page':default:// Rounded rectangle\nreturn\"M \".concat(-w+rx,\" \").concat(-h,\" h \").concat(w-2*rx,\" a \").concat(rx,\" \").concat(ry,\" 0 0 1 \").concat(rx,\" \").concat(ry,\" v \").concat(h-2*ry,\" a \").concat(rx,\" \").concat(ry,\" 0 0 1 -\").concat(rx,\" \").concat(ry,\" h \").concat(-(w-2*rx),\" a \").concat(rx,\" \").concat(ry,\" 0 0 1 -\").concat(rx,\" -\").concat(ry,\" v \").concat(-(h-2*ry),\" a \").concat(rx,\" \").concat(ry,\" 0 0 1 \").concat(rx,\" -\").concat(ry,\" z\");}},[]);const generateIA=useCallback(keywordParam=>{const keyword=(keywordParam||'').trim().toLowerCase();if(!keyword){setError('Please enter a keyword');return;}setLoading(true);setError('');try{let generated;if(templates[keyword]){generated=templates[keyword];}else{generated=genericTemplate;setError('Keyword not recognized. Using generic template. Try \"e-commerce\", \"portfolio\", or \"blog\".');}setIaData(generated);// Auto-fit after generation\nsetTimeout(()=>fitToScreen(),100);}catch(err){setError('Failed to generate IA.');setIaData(genericTemplate);setTimeout(()=>fitToScreen(),100);}finally{setLoading(false);}},[templates,genericTemplate,fitToScreen]);useEffect(()=>{fetchData();},[]);useEffect(()=>{if(!graphData.nodes.length||error)return;const svg=d3.select(svgRef.current);svg.selectAll('*').remove();const g=svg.append('g');gRef.current=g.node();// Add zoom and pan with smooth transitions\nzoomRef.current=d3.zoom().scaleExtent([0.1,4]).on('zoom',event=>{if(gRef.current)d3.select(gRef.current).attr('transform',event.transform);});svg.call(zoomRef.current);// Enhanced defs for arrow markers, shadow, and glow\nconst defs=svg.append('defs');// Arrowhead\ndefs.append('marker').attr('id','arrowhead').attr('viewBox','-0 -5 10 10').attr('refX',15).attr('refY',0).attr('orient','auto').attr('markerWidth',8).attr('markerHeight',8).attr('xoverflow','visible').append('path').attr('d','M 0,-5 L 10 ,0 L 0,5').attr('fill','#4b5563')// darker gray for better contrast\n.attr('stroke','none');// Soft shadow\nconst shadowFilter=defs.append('filter').attr('id','shadow').attr('x','-50%').attr('y','-50%').attr('width','200%').attr('height','200%');shadowFilter.append('feDropShadow').attr('dx',1).attr('dy',1).attr('stdDeviation',3).attr('flood-color','rgba(0,0,0,0.15)');// Glow for hover\nconst glowFilter=defs.append('filter').attr('id','glow').attr('x','-50%').attr('y','-50%').attr('width','200%').attr('height','200%');glowFilter.append('feGaussianBlur').attr('in','SourceAlpha').attr('stdDeviation',3).attr('result','blur');glowFilter.append('feOffset').attr('in','blur').attr('dx',0).attr('dy',0).attr('result','offsetBlur');glowFilter.append('feFlood').attr('flood-color','#2563eb')// blue glow for hover\n.attr('flood-opacity','0.9').attr('result','glowColor');glowFilter.append('feComposite').attr('in','glowColor').attr('in2','offsetBlur').attr('operator','in').attr('result','glowShape');const feMerge=glowFilter.append('feMerge');feMerge.append('feMergeNode').attr('in','glowShape');feMerge.append('feMergeNode').attr('in','SourceGraphic');// Curved links for smoother appearance\nconst link=g.selectAll('.link').data(graphData.links).enter().append('path').attr('class','link').attr('fill','none').attr('marker-end','url(#arrowhead)').attr('stroke','#6b7280')// darker gray for better visibility\n.attr('stroke-width',3).attr('stroke-dasharray',d=>d.type==='related'?'6,6':'none').attr('d',linkArc).style('transition','stroke 0.3s ease, stroke-width 0.3s ease');// Link labels (hidden if empty)\nconst linkLabel=g.selectAll('.link-label').data(graphData.links).enter().append('text').attr('class','link-label').attr('font-size',14).attr('fill','#374151')// dark gray for better readability\n.attr('font-weight','600').attr('text-anchor','middle').attr('dominant-baseline','middle').attr('x',d=>(d.source.x+d.target.x)/2).attr('y',d=>Math.min(d.source.y,d.target.y)-20).style('pointer-events','none').text(d=>d.label||'').style('display',d=>d.label?'block':'none').style('text-shadow','none');// Nodes with animations, hover glow\nconst node=g.selectAll('.node').data(graphData.nodes).enter().append('g').classed('node',true).attr('opacity',0).style('transition','opacity 0.5s ease').call(d3.drag().on('start',dragstarted).on('drag',dragged).on('end',dragended)).on('click',(event,d)=>{if(editingNodeId!==null){saveEditing();}setSelectedNodeName(d.name);}).on('dblclick',(event,d)=>{event.stopPropagation();startEditing(d);}).on('mouseover',function(event,d){d3.select(this).select('path').attr('filter','url(#glow)').attr('stroke','#3b82f6').attr('stroke-width',4);// Highlight outgoing links\ng.selectAll('.link').filter(l=>l.source.id===d.id).attr('stroke','#3b82f6').attr('stroke-width',3.5);}).on('mouseout',function(event,d){d3.select(this).select('path').attr('filter','url(#shadow)').attr('stroke',selectedNodeName===d.name?'#3b82f6':colors[d.depth%colors.length]).attr('stroke-width',selectedNodeName===d.name?4:2.5);g.selectAll('.link').attr('stroke','#9ca3af').attr('stroke-width',2.5);});// Set node positions directly from tree layout\nnode.attr('opacity',0).attr('transform',d=>\"translate(\".concat(d.x,\", \").concat(d.y,\") scale(0.7)\")).transition().duration(500).attr('opacity',1).attr('transform',d=>\"translate(\".concat(d.x,\", \").concat(d.y,\") scale(1)\"));node.append('rect').attr('x',d=>{if(d.type==='decision')return-70;if(d.type==='action')return-80;return-90;}).attr('y',d=>-25).attr('width',d=>{if(d.type==='decision')return 140;if(d.type==='action')return 160;return 180;}).attr('height',50).attr('rx',d=>d.type==='decision'?0:15).attr('ry',d=>d.type==='decision'?0:15).attr('fill',d=>{switch(d.type){case'page':return'#e0e7ff';// lighter blue\ncase'action':return'#d1fae5';// lighter green\ncase'decision':return'#fed7aa';// orange\ndefault:return'#f3f4f6';// light gray\n}}).attr('stroke',d=>selectedNodeName===d.name?'#2563eb':colors[d.depth%colors.length]).attr('stroke-width',d=>selectedNodeName===d.name?4:2).attr('filter','url(#shadow)');node.each(function(d){const group=d3.select(this);if(d.id===editingNodeId){const foreignObject=group.append('foreignObject').attr('x',-80).attr('y',-25).attr('width',160).attr('height',50);foreignObject.append('xhtml:input').attr('type','text').property('value',editingText).style('width','100%').style('height','100%').style('border','none').style('outline','none').style('font-size','16px').style('font-family','Inter, system-ui, sans-serif').style('font-weight','600').style('text-align','center').style('display','flex').style('align-items','center').style('justify-content','center').on('input',function(event){setEditingText(event.target.value);}).on('keydown',function(event){if(event.key==='Enter'){saveEditing();}else if(event.key==='Escape'){cancelEditing();}}).on('blur',saveEditing);}else{group.append('text').attr('text-anchor','middle').attr('x',0).attr('y',0).attr('dy','.35em').attr('font-size','16px').attr('font-family','Inter, system-ui, sans-serif').attr('font-weight','600').attr('fill','#1e293b').text(d=>d.name).style('pointer-events','none').call(wrapText,160);}});// Helper function to wrap text inside nodes\nfunction wrapText(text,width){text.each(function(){const text=d3.select(this);const words=text.text().split(/\\s+/).reverse();let word;let line=[];let lineNumber=0;const lineHeight=1.1;// ems\nconst y=text.attr('y');const dy=0;let tspan=text.text(null).append('tspan').attr('x',0).attr('y',y).attr('dy',dy+'em');while(word=words.pop()){line.push(word);tspan.text(line.join(' '));if(tspan.node().getComputedTextLength()>width){line.pop();tspan.text(line.join(' '));line=[word];tspan=text.append('tspan').attr('x',0).attr('y',y).attr('dy',++lineNumber*lineHeight+dy+'em').text(word);}}});}function linkArc(d){const source=d.source;const target=d.target;// Curved bezier line for smoother appearance\nconst dx=target.x-source.x;const dy=target.y-source.y;const cp1x=source.x+dx/3;const cp1y=source.y+dy/2-20;const cp2x=source.x+2*dx/3;const cp2y=target.y-dy/2+20;return\"M \".concat(source.x,\" \").concat(source.y,\" C \").concat(cp1x,\" \").concat(cp1y,\" \").concat(cp2x,\" \").concat(cp2y,\" \").concat(target.x,\" \").concat(target.y);}function dragstarted(event,d){// No simulation, just start drag\n}function dragged(event,d){// Constrain both x and y\nd.x=snapToGrid?Math.round(event.x/20)*20:event.x;d.y=snapToGrid?Math.round(event.y/20)*20:event.y;d3.select(this).attr('transform',\"translate(\".concat(d.x,\", \").concat(d.y,\")\"));// Update links\nlink.attr('d',linkArc);linkLabel.attr('x',d=>(d.source.x+d.target.x)/2).attr('y',d=>Math.min(d.source.y,d.target.y)-15);}function dragended(event,d){// No simulation to stop\n}},[graphData,error,width,height,colors,snapToGrid,selectedNodeName,startEditing,saveEditing,cancelEditing,editingNodeId,editingText,getNodePath]);useEffect(()=>{const handleKeyDown=event=>{if(event.target.tagName==='INPUT'||event.target.tagName==='TEXTAREA'||event.target.isContentEditable){return;// Don't interfere with input fields\n}switch(event.key){case'+':case'=':event.preventDefault();zoomIn();break;case'-':event.preventDefault();zoomOut();break;case'f':case'F':event.preventDefault();fitToScreen();break;case'r':case'R':case'0':event.preventDefault();resetView();break;default:break;}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[zoomIn,zoomOut,fitToScreen,resetView]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-white shadow-sm border-b flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",children:\"\\u2190 Home\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800\",children:\"IA Flowchart Diagram\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-end space-y-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:inputText,onChange:e=>{setInputText(e.target.value);if(e.target.value)generateIA(e.target.value);},disabled:loading,className:\"w-64 px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none text-sm placeholder-gray-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a keyword\"}),Object.keys(templates).map(key=>/*#__PURE__*/_jsxs(\"option\",{value:key,children:[templates[key].name,\" (\",key,\")\"]},key))]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/referent'),disabled:loading,className:\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\",children:\"Referent\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/ai-chat'),disabled:loading,className:\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\",children:\"AI Chat\"})]})})]}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"p-2 text-blue-500 text-center\",children:\"Uploading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"svg\",{ref:svgRef,width:width,height:height,className:\"absolute inset-0 w-full h-full bg-white\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 left-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:zoomIn,className:\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:zoomOut,className:\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fitToScreen,className:\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",children:\"\\u2194\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetView,className:\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",children:\"\\u27F2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addNode,className:\"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\",children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteNode,disabled:selectedNodeName===null,className:\"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSnapToGrid(!snapToGrid),className:\"px-2 py-1 text-xs rounded text-gray-700 shadow-sm \".concat(snapToGrid?'bg-green-100':'bg-gray-100 hover:bg-gray-200'),children:\"\\u229E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-50 max-w-xs backdrop-blur-sm cursor-move select-none\",style:{left:legendPosition.x,top:legendPosition.y},onMouseDown:e=>{setIsDraggingLegend(true);setDragOffset({x:e.clientX-legendPosition.x,y:e.clientY-legendPosition.y});},onMouseUp:()=>setIsDraggingLegend(false),onMouseLeave:()=>setIsDraggingLegend(false),onMouseMove:e=>{if(isDraggingLegend){setLegendPosition({x:e.clientX-dragOffset.x,y:e.clientY-dragOffset.y});}},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-800 mb-2\",children:\"Legend\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-xs text-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u25A1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"Rectangle = Page / Screen\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u25CB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"Oval = Process / Action\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u25C7\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600\",children:\"Diamond = Decision\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-mono\",children:\"\\u2014\\u2014\\u2014\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Solid line = Direct navigation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-mono\",children:\"- - -\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dashed line = Related link\"})]})]})]})]})]});}export default IAFlowchart;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","d3","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","IAFlowchart","navigate","iaData","setIaData","graphData","setGraphData","nodes","links","snapToGrid","setSnapToGrid","editingNodeId","setEditingNodeId","editingText","setEditingText","error","setError","loading","setLoading","width","setWidth","height","setHeight","selectedNodeName","setSelectedNodeName","inputText","setInputText","legendPosition","setLegendPosition","x","y","isDraggingLegend","setIsDraggingLegend","dragOffset","setDragOffset","svgRef","zoomRef","gRef","templates","name","type","children","description","label","linkType","genericTemplate","colors","hierarchyToGraph","data","treeLayout","tree","size","root","hierarchy","traverse","d","parentId","arguments","length","undefined","depth","id","hasChildren","push","fx","fy","source","target","forEach","child","addChildToNode","parentName","newChild","i","updated","removeNodeByName","targetName","map","filter","Boolean","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","fetchData","response","fetch","ok","json","err","zoomIn","current","scaleBy","select","zoomOut","fitToScreen","bounds","getBBox","fullWidth","fullHeight","midX","midY","scale","translate","transform","zoomIdentity","resetView","addNode","concat","Date","now","newIaData","JSON","parse","stringify","deleteNode","updatedRoot","startEditing","saveEditing","prev","_objectSpread","n","cancelEditing","getNodePath","w","h","rx","ry","generateIA","keywordParam","keyword","trim","toLowerCase","generated","setTimeout","svg","selectAll","remove","g","append","node","zoom","scaleExtent","on","event","attr","call","defs","shadowFilter","glowFilter","feMerge","link","enter","linkArc","style","linkLabel","Math","min","text","classed","drag","dragstarted","dragged","dragended","stopPropagation","l","transition","duration","each","group","foreignObject","property","value","key","wrapText","words","split","reverse","word","line","lineNumber","lineHeight","dy","tspan","pop","join","getComputedTextLength","dx","cp1x","cp1y","cp2x","cp2y","round","handleKeyDown","tagName","isContentEditable","preventDefault","document","className","to","onChange","e","disabled","Object","keys","onClick","role","ref","left","top","onMouseDown","clientX","clientY","onMouseUp","onMouseLeave","onMouseMove"],"sources":["/Users/anbschool0009/Desktop/untitled folder 3/IA-Mate-repo/frontend/src/IAFlowchart.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\nimport { Link, useNavigate } from 'react-router-dom';\n\nfunction IAFlowchart() {\n  const navigate = useNavigate();\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [editingNodeId, setEditingNodeId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const [selectedNodeName, setSelectedNodeName] = useState(null);\n  const [inputText, setInputText] = useState('');\n  // Removed aiResponse and setAiResponse state\n  const [legendPosition, setLegendPosition] = useState({ x: 80, y: 200 });\n  const [isDraggingLegend, setIsDraggingLegend] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n\n\n\n  const templates = useMemo(() => ({\n    'e-commerce': {\n      name: 'E-commerce Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Landing page with featured products and promotions' },\n        {\n          name: 'Browse Products',\n          type: 'action',\n          description: 'User browses product categories and lists',\n          children: [\n            { name: 'Product Details', type: 'page', description: 'Detailed view of a selected product with images, specs, and reviews' }\n          ]\n        },\n        { name: 'Shopping Cart', type: 'page', description: 'View and manage products added to cart' },\n        {\n          name: 'Checkout',\n          type: 'action',\n          label: 'Proceed to payment',\n          description: 'User enters shipping and billing information'\n        },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before checkout',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Home Page', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Home Page', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Home Page', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Home Page', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Checkout', type: 'page', linkType: 'related', label: 'Alternative path', description: 'Checkout without account' }\n          ]\n        },\n        {\n          name: 'Payment Method',\n          type: 'decision',\n          description: 'User selects payment method',\n          children: [\n            { name: 'Credit Card', type: 'page', label: 'Choose Card', description: 'Enter credit card details securely' },\n            { name: 'PayPal', type: 'action', label: 'Redirect to PayPal', description: 'Redirect to PayPal for payment authorization' }\n          ]\n        },\n        { name: 'Order Confirmation', type: 'page', description: 'Order summary and confirmation details' },\n        { name: 'User Profile', type: 'page', linkType: 'related', description: 'User account management and order history' }\n      ]\n    },\n    'portfolio': {\n      name: 'Portfolio Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Introduction and overview' },\n        { name: 'About Me', type: 'page', description: 'Personal bio and background' },\n        {\n          name: 'Projects',\n          type: 'page',\n          description: 'Showcase of projects with details',\n          children: [\n            { name: 'Project 1', type: 'page', description: 'Details and media for project 1' },\n            { name: 'Project 2', type: 'page', description: 'Details and media for project 2' }\n          ]\n        },\n        { name: 'Contact', type: 'page', description: 'Contact form and social links' },\n        { name: 'Blog', type: 'page', linkType: 'related', description: 'Articles and updates' },\n        {\n          name: 'Admin Login Required?',\n          type: 'decision',\n          description: 'Check if admin is logged in for editing',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'Admin authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Admin Dashboard', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Public View', type: 'page', linkType: 'related', label: 'Alternative path', description: 'View portfolio without login' }\n          ]\n        }\n      ]\n    },\n    'blog': {\n      name: 'Blog Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Latest posts and featured content' },\n        {\n          name: 'Posts List',\n          type: 'page',\n          description: 'List of blog posts',\n          children: [\n            { name: 'Single Post', type: 'page', description: 'Full content of a single blog post' }\n          ]\n        },\n        {\n          name: 'Categories',\n          type: 'decision',\n          description: 'Filter posts by category',\n          children: [\n            { name: 'Technology', type: 'page', description: 'Posts about technology' },\n            { name: 'Design', type: 'page', description: 'Posts about design' },\n            { name: 'Lifestyle', type: 'page', description: 'Posts about lifestyle' }\n          ]\n        },\n        { name: 'About', type: 'page', description: 'About the blog and author' },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in for commenting',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Comments Section', type: 'action', description: 'User redirected after successful sign up to comment' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Comments Section', type: 'action', description: 'User redirected after successful Google sign up to comment' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Comments Section', type: 'action', description: 'User redirected after successful login to comment' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Comments Section', type: 'action', description: 'User redirected after password reset to comment' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Comments', type: 'action', linkType: 'related', label: 'Alternative path', description: 'Comment without account' }\n          ]\n        }\n      ]\n    },\n    'restaurant': {\n      name: 'Restaurant Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Welcome and featured dishes' },\n        { name: 'Menu', type: 'page', description: 'Full menu with categories' },\n        {\n          name: 'Browse Dishes',\n          type: 'action',\n          description: 'User browses dishes by category',\n          children: [\n            { name: 'Dish Details', type: 'page', description: 'Details and ingredients of a dish' }\n          ]\n        },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before ordering',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Order Online', type: 'decision', description: 'Choose order type after sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Order Online', type: 'decision', description: 'Choose order type after Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Order Online', type: 'decision', description: 'Choose order type after login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Order Online', type: 'decision', description: 'Choose order type after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Order as Guest', type: 'decision', linkType: 'related', label: 'Alternative path', description: 'Order without account' }\n          ]\n        },\n        {\n          name: 'Order Online',\n          type: 'decision',\n          description: 'Choose order type',\n          children: [\n            { name: 'Dine In', type: 'page', label: 'Reserve table', description: 'Table reservation system' },\n            { name: 'Takeaway', type: 'action', label: 'Quick order', description: 'Order for pickup or delivery' }\n          ]\n        },\n        { name: 'Reservations', type: 'page', description: 'Manage reservations' },\n        { name: 'Contact', type: 'page', linkType: 'related', description: 'Contact information and form' },\n        { name: 'Reviews', type: 'page', description: 'Customer reviews and ratings' }\n      ]\n    },\n    'university': {\n      name: 'University Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'University overview and news' },\n        {\n          name: 'Admissions',\n          type: 'decision',\n          description: 'Admission process options',\n          children: [\n            { name: 'Apply Online', type: 'action', description: 'Online application form' },\n            { name: 'Visit Campus', type: 'page', linkType: 'related', description: 'Campus visit scheduling' }\n          ]\n        },\n        { name: 'Courses', type: 'page', description: 'Course catalog and details' },\n        {\n          name: 'Enroll',\n          type: 'action',\n          description: 'Enrollment process',\n          children: [\n            { name: 'Course Details', type: 'page', description: 'Detailed course information' }\n          ]\n        },\n        { name: 'Library', type: 'page', description: 'Library resources and search' },\n        { name: 'Resources', type: 'page', linkType: 'related', description: 'Student resources and support' },\n        { name: 'Contact', type: 'page', description: 'Contact information' }\n      ]\n    },\n    'banking app': {\n      name: 'Banking App',\n      type: 'page',\n      children: [\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before accessing dashboard',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Dashboard', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Dashboard', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Dashboard', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Dashboard', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Access', type: 'page', linkType: 'related', label: 'Alternative path', description: 'Access without login' }\n          ]\n        },\n        { name: 'Dashboard', type: 'page', description: 'Account overview and summary' },\n        {\n          name: 'Transfer Funds',\n          type: 'decision',\n          description: 'Choose transfer type',\n          children: [\n            { name: 'Internal Transfer', type: 'action', description: 'Transfer between user accounts' },\n            { name: 'External Transfer', type: 'page', label: 'To other banks', description: 'Transfer to external accounts' }\n          ]\n        },\n        { name: 'Account Details', type: 'page', description: 'Detailed account information' },\n        { name: 'Support', type: 'page', linkType: 'related', description: 'Customer support and FAQs' },\n        { name: 'Transactions', type: 'page', description: 'Transaction history and statements' }\n      ]\n    },\n    'social media': {\n      name: 'Social Media Platform',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User login and registration' },\n        { name: 'Feed', type: 'page', description: 'User posts and updates' },\n        {\n          name: 'Create Post',\n          type: 'action',\n          description: 'Post creation workflow',\n          children: [\n            { name: 'Add Media', type: 'page', description: 'Upload images or videos' },\n            { name: 'Post Options', type: 'decision', description: 'Privacy and tagging options' }\n          ]\n        },\n        { name: 'Profile', type: 'page', description: 'User profile and settings' },\n        {\n          name: 'Notifications',\n          type: 'page',\n          description: 'User notifications',\n          children: [\n            { name: 'Likes', type: 'action', description: 'Likes on posts' },\n            { name: 'Comments', type: 'action', description: 'Comments on posts' }\n          ]\n        },\n        { name: 'Messages', type: 'page', linkType: 'related', description: 'Private messaging' },\n        { name: 'Settings', type: 'page', description: 'Account and privacy settings' }\n      ]\n    },\n    'news website': {\n      name: 'News Website',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Latest news and headlines' },\n        {\n          name: 'News Categories',\n          type: 'decision',\n          description: 'Filter news by category',\n          children: [\n            { name: 'Politics', type: 'page', description: 'Political news' },\n            { name: 'Sports', type: 'page', description: 'Sports news' },\n            { name: 'Entertainment', type: 'page', description: 'Entertainment news' }\n          ]\n        },\n        {\n          name: 'Article Page',\n          type: 'page',\n          description: 'Full news article',\n          children: [\n            { name: 'Comments', type: 'action', description: 'User comments on articles' },\n            { name: 'Share', type: 'action', description: 'Social sharing options' }\n          ]\n        },\n        { name: 'Search', type: 'action', description: 'Search news articles' },\n        { name: 'About', type: 'page', linkType: 'related', description: 'About the news organization' },\n        { name: 'Contact', type: 'page', description: 'Contact information' }\n      ]\n    },\n    'learning management system': {\n      name: 'Learning Management System',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User authentication' },\n        { name: 'Dashboard', type: 'page', description: 'Overview of courses and progress' },\n        {\n          name: 'Courses',\n          type: 'page',\n          description: 'List of courses',\n          children: [\n            { name: 'Course Content', type: 'page', description: 'Lessons and materials' },\n            { name: 'Assignments', type: 'action', description: 'Assignment submission and grading' }\n          ]\n        },\n        {\n          name: 'Grades',\n          type: 'page',\n          description: 'View grades and feedback',\n          children: [\n            { name: 'View Grades', type: 'action', description: 'Detailed grade reports' },\n            { name: 'Feedback', type: 'page', description: 'Instructor feedback' }\n          ]\n        },\n        { name: 'Discussion Forums', type: 'page', linkType: 'related', description: 'Course discussions and Q&A' },\n        { name: 'Profile', type: 'page', description: 'User profile and settings' }\n      ]\n    },\n    'fitness app': {\n      name: 'Fitness App',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User authentication' },\n        { name: 'Home Dashboard', type: 'page', description: 'Overview of fitness stats' },\n        {\n          name: 'Workouts',\n          type: 'decision',\n          description: 'Workout selection and tracking',\n          children: [\n            { name: 'Start Workout', type: 'action', description: 'Begin a workout session' },\n            { name: 'View History', type: 'page', description: 'Past workout records' }\n          ]\n        },\n        { name: 'Progress Tracking', type: 'page', description: 'Track fitness progress over time' },\n        {\n          name: 'Nutrition',\n          type: 'page',\n          description: 'Diet and meal planning',\n          children: [\n            { name: 'Meal Plans', type: 'action', description: 'Create and manage meal plans' },\n            { name: 'Calorie Counter', type: 'page', description: 'Track daily calorie intake' }\n          ]\n        },\n        { name: 'Community', type: 'page', linkType: 'related', description: 'Social features and groups' },\n        { name: 'Settings', type: 'page', description: 'App settings and preferences' }\n      ]\n    },\n    'travel booking': {\n      name: 'Travel Booking Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Welcome and featured destinations' },\n        {\n          name: 'Search Flights/Hotels',\n          type: 'action',\n          description: 'Search for flights and hotels',\n          children: [\n            { name: 'Flight Results', type: 'page', description: 'List of available flights' },\n            { name: 'Hotel Results', type: 'page', description: 'List of available hotels' }\n          ]\n        },\n        { name: 'Booking Details', type: 'page', description: 'Review booking information' },\n        {\n          name: 'Payment',\n          type: 'decision',\n          description: 'Select payment method',\n          children: [\n            { name: 'Credit Card', type: 'action', description: 'Enter credit card details' },\n            { name: 'PayPal', type: 'action', description: 'Pay via PayPal' }\n          ]\n        },\n        { name: 'Confirmation', type: 'page', description: 'Booking confirmation and receipt' },\n        { name: 'My Trips', type: 'page', linkType: 'related', description: 'Manage upcoming and past trips' },\n        { name: 'Support', type: 'page', description: 'Customer support and FAQs' }\n      ]\n    }\n  }), []);\n\n  const genericTemplate = useMemo(() => ({\n    name: 'Generic Site',\n    type: 'page',\n    children: [\n      { name: 'Home', type: 'page' },\n      { name: 'Services', type: 'page' },\n      {\n        name: 'Service Selection',\n        type: 'decision',\n        children: [\n          { name: 'Basic Service', type: 'action' },\n          { name: 'Premium Service', type: 'page' }\n        ]\n      },\n      { name: 'Blog', type: 'page', linkType: 'related' },\n      { name: 'Login', type: 'action' },\n      { name: 'Contact', type: 'page' },\n      {\n        name: 'Checkout',\n        type: 'decision',\n        children: [\n          { name: 'Payment Methods', type: 'page' },\n          { name: 'Order Review', type: 'action' }\n        ]\n      },\n      { name: 'Payment', type: 'page' }\n    ]\n  }), []);\n\n  const colors = useMemo(() => ['#f8fafc', '#e2e8f0', '#cbd5e1', '#94a3b8', '#64748b'], []);\n\n  const hierarchyToGraph = useCallback((data) => {\n    const nodes = [];\n    const links = [];\n\n    // Use tree layout for initial positions to avoid random overlaps\n    const treeLayout = d3.tree().size([height - 100, width - 200]);\n    const root = d3.hierarchy(data);\n    treeLayout(root);\n\n    const traverse = (d, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      const hasChildren = d.children && d.children.length > 0;\n      nodes.push({\n        id,\n        name: d.data.name,\n        type: d.data.type || 'action',\n        x: d.y + width / 2, // Horizontal tree\n        y: d.x + height / 2,\n        depth,\n        fx: d.y + width / 2,\n        fy: d.x + height / 2,\n        hasChildren,\n      });\n\n      if (parentId !== null) {\n        links.push({\n          source: nodes[parentId],\n          target: nodes[id],\n          label: d.data.label || '',\n          type: d.data.linkType || 'direct'\n        });\n      }\n\n      if (d.children) {\n        d.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n\n    traverse(root);\n    return { nodes, links };\n  }, [width, height]);\n\n  // Define recursive functions using useCallback to avoid parsing issues\n  const addChildToNode = useCallback((root, parentName, newChild) => {\n    if (root.name === parentName) {\n      root.children = root.children || [];\n      root.children.push(newChild);\n      return root;\n    }\n    if (root.children) {\n      for (let i = 0; i < root.children.length; i++) {\n        const updated = addChildToNode(root.children[i], parentName, newChild);\n        if (updated) {\n          root.children[i] = updated;\n          return root;\n        }\n      }\n    }\n    return null;\n  }, []);\n\n  const removeNodeByName = useCallback((root, targetName) => {\n    if (root.name === targetName) {\n      return null; // Remove this node\n    }\n    if (root.children) {\n      root.children = root.children.map(child => removeNodeByName(child, targetName)).filter(Boolean);\n      return root;\n    }\n    return root;\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Removed JSON upload feature, replaced with Referent feature placeholder\n  // const handleFileUpload = async (event) => {\n  //   const file = event.target.files[0];\n  //   if (!file) return;\n\n  //   if (!file.name.endsWith('.json')) {\n  //     setError('Please select a JSON file.');\n  //     return;\n  //   }\n\n  //   setLoading(true);\n  //   setError('');\n\n  //   try {\n  //     const text = await file.text();\n  //     const jsonData = JSON.parse(text);\n  //     setIaData(jsonData);\n  //     setError('');\n  //   } catch (err) {\n  //     setError('Invalid JSON file.');\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:3003/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 1.2);\n    }\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 0.8);\n    }\n  }, []);\n\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = (bounds.x + bounds.width / 2);\n      const midY = (bounds.y + bounds.height / 2);\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity);\n    }\n  }, []);\n\n  const addNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newChild = {\n      name: `New Node ${Date.now()}`,\n      type: 'action',\n      children: []\n    };\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    addChildToNode(newIaData, selectedNodeName, newChild);\n    setIaData(newIaData);\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, addChildToNode]);\n\n  const deleteNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    const updatedRoot = removeNodeByName(newIaData, selectedNodeName);\n    if (updatedRoot) {\n      setIaData(updatedRoot);\n    } else {\n      setIaData(null);\n    }\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, removeNodeByName]);\n\n  const startEditing = useCallback((d) => {\n    setEditingNodeId(d.id);\n    setEditingText(d.name);\n  }, []);\n\n  const saveEditing = useCallback(() => {\n    if (editingNodeId !== null) {\n      setGraphData(prev => ({\n        ...prev,\n        nodes: prev.nodes.map(n => n.id === editingNodeId ? { ...n, name: editingText } : n)\n      }));\n      setEditingNodeId(null);\n      setEditingText('');\n    }\n  }, [editingNodeId, editingText]);\n\n  const cancelEditing = useCallback(() => {\n    setEditingNodeId(null);\n    setEditingText('');\n  }, []);\n\n  const getNodePath = useCallback((d) => {\n    const w = 80; // half width 160\n    const h = 30; // half height 60\n    const rx = 8;\n    const ry = 8;\n\n    switch (d.type) {\n      case 'action':\n        // Oval (ellipse)\n        return `M ${-w} 0 A ${w} ${h} 0 1 1 ${w} 0 A ${w} ${h} 0 1 1 ${-w} 0 Z`;\n      case 'decision':\n        // Diamond\n        return `M 0 ${-h} L ${w} 0 L 0 ${h} L ${-w} 0 Z`;\n      case 'page':\n      default:\n        // Rounded rectangle\n        return `M ${-w + rx} ${-h} h ${w - 2 * rx} a ${rx} ${ry} 0 0 1 ${rx} ${ry} v ${h - 2 * ry} a ${rx} ${ry} 0 0 1 -${rx} ${ry} h ${-(w - 2 * rx)} a ${rx} ${ry} 0 0 1 -${rx} -${ry} v ${-(h - 2 * ry)} a ${rx} ${ry} 0 0 1 ${rx} -${ry} z`;\n    }\n  }, []);\n\n  const generateIA = useCallback((keywordParam) => {\n    const keyword = (keywordParam || '').trim().toLowerCase();\n    if (!keyword) {\n      setError('Please enter a keyword');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      let generated;\n      if (templates[keyword]) {\n        generated = templates[keyword];\n      } else {\n        generated = genericTemplate;\n        setError('Keyword not recognized. Using generic template. Try \"e-commerce\", \"portfolio\", or \"blog\".');\n      }\n      setIaData(generated);\n      // Auto-fit after generation\n      setTimeout(() => fitToScreen(), 100);\n    } catch (err) {\n      setError('Failed to generate IA.');\n      setIaData(genericTemplate);\n      setTimeout(() => fitToScreen(), 100);\n    } finally {\n      setLoading(false);\n    }\n  }, [templates, genericTemplate, fitToScreen]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!graphData.nodes.length || error) return;\n\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n\n    const g = svg.append('g');\n    gRef.current = g.node();\n\n    // Add zoom and pan with smooth transitions\n    zoomRef.current = d3.zoom()\n      .scaleExtent([0.1, 4])\n      .on('zoom', (event) => {\n        if (gRef.current) d3.select(gRef.current).attr('transform', event.transform);\n      });\n\n    svg.call(zoomRef.current);\n\n    // Enhanced defs for arrow markers, shadow, and glow\n    const defs = svg.append('defs');\n\n    // Arrowhead\n    defs.append('marker')\n      .attr('id', 'arrowhead')\n      .attr('viewBox', '-0 -5 10 10')\n      .attr('refX', 15)\n      .attr('refY', 0)\n      .attr('orient', 'auto')\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 8)\n      .attr('xoverflow', 'visible')\n      .append('path')\n      .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\n      .attr('fill', '#4b5563') // darker gray for better contrast\n      .attr('stroke', 'none');\n\n    // Soft shadow\n    const shadowFilter = defs.append('filter')\n      .attr('id', 'shadow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    shadowFilter.append('feDropShadow')\n      .attr('dx', 1)\n      .attr('dy', 1)\n      .attr('stdDeviation', 3)\n      .attr('flood-color', 'rgba(0,0,0,0.15)');\n\n    // Glow for hover\n    const glowFilter = defs.append('filter')\n      .attr('id', 'glow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glowFilter.append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 3)\n      .attr('result', 'blur');\n\n    glowFilter.append('feOffset')\n      .attr('in', 'blur')\n      .attr('dx', 0)\n      .attr('dy', 0)\n      .attr('result', 'offsetBlur');\n\n    glowFilter.append('feFlood')\n      .attr('flood-color', '#2563eb') // blue glow for hover\n      .attr('flood-opacity', '0.9')\n      .attr('result', 'glowColor');\n\n    glowFilter.append('feComposite')\n      .attr('in', 'glowColor')\n      .attr('in2', 'offsetBlur')\n      .attr('operator', 'in')\n      .attr('result', 'glowShape');\n\n    const feMerge = glowFilter.append('feMerge');\n    feMerge.append('feMergeNode').attr('in', 'glowShape');\n    feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    // Curved links for smoother appearance\n    const link = g.selectAll('.link')\n      .data(graphData.links)\n      .enter().append('path')\n      .attr('class', 'link')\n      .attr('fill', 'none')\n      .attr('marker-end', 'url(#arrowhead)')\n      .attr('stroke', '#6b7280') // darker gray for better visibility\n      .attr('stroke-width', 3)\n      .attr('stroke-dasharray', d => d.type === 'related' ? '6,6' : 'none')\n      .attr('d', linkArc)\n      .style('transition', 'stroke 0.3s ease, stroke-width 0.3s ease');\n\n    // Link labels (hidden if empty)\n    const linkLabel = g.selectAll('.link-label')\n      .data(graphData.links)\n      .enter().append('text')\n      .attr('class', 'link-label')\n      .attr('font-size', 14)\n      .attr('fill', '#374151') // dark gray for better readability\n      .attr('font-weight', '600')\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'middle')\n      .attr('x', d => (d.source.x + d.target.x) / 2)\n      .attr('y', d => Math.min(d.source.y, d.target.y) - 20)\n      .style('pointer-events', 'none')\n      .text(d => d.label || '')\n      .style('display', d => d.label ? 'block' : 'none')\n      .style('text-shadow', 'none');\n\n    // Nodes with animations, hover glow\n    const node = g.selectAll('.node')\n      .data(graphData.nodes)\n      .enter().append('g')\n      .classed('node', true)\n      .attr('opacity', 0)\n      .style('transition', 'opacity 0.5s ease')\n      .call(d3.drag()\n        .on('start', dragstarted)\n        .on('drag', dragged)\n        .on('end', dragended)\n      )\n      .on('click', (event, d) => {\n        if (editingNodeId !== null) {\n          saveEditing();\n        }\n        setSelectedNodeName(d.name);\n      })\n      .on('dblclick', (event, d) => {\n        event.stopPropagation();\n        startEditing(d);\n      })\n      .on('mouseover', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#glow)')\n          .attr('stroke', '#3b82f6')\n          .attr('stroke-width', 4);\n        // Highlight outgoing links\n        g.selectAll('.link').filter(l => l.source.id === d.id)\n          .attr('stroke', '#3b82f6').attr('stroke-width', 3.5);\n      })\n      .on('mouseout', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#shadow)')\n          .attr('stroke', selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length])\n          .attr('stroke-width', selectedNodeName === d.name ? 4 : 2.5);\n        g.selectAll('.link').attr('stroke', '#9ca3af').attr('stroke-width', 2.5);\n      });\n\n    // Set node positions directly from tree layout\n    node\n      .attr('opacity', 0)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(0.7)`)\n      .transition()\n      .duration(500)\n      .attr('opacity', 1)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(1)`);\n\n    node.append('rect')\n      .attr('x', d => {\n        if (d.type === 'decision') return -70;\n        if (d.type === 'action') return -80;\n        return -90;\n      })\n      .attr('y', d => -25)\n      .attr('width', d => {\n        if (d.type === 'decision') return 140;\n        if (d.type === 'action') return 160;\n        return 180;\n      })\n      .attr('height', 50)\n      .attr('rx', d => (d.type === 'decision' ? 0 : 15))\n      .attr('ry', d => (d.type === 'decision' ? 0 : 15))\n      .attr('fill', d => {\n        switch (d.type) {\n          case 'page': return '#e0e7ff'; // lighter blue\n          case 'action': return '#d1fae5'; // lighter green\n          case 'decision': return '#fed7aa'; // orange\n          default: return '#f3f4f6'; // light gray\n        }\n      })\n      .attr('stroke', d => selectedNodeName === d.name ? '#2563eb' : colors[d.depth % colors.length])\n      .attr('stroke-width', d => selectedNodeName === d.name ? 4 : 2)\n      .attr('filter', 'url(#shadow)');\n\n    node.each(function(d) {\n      const group = d3.select(this);\n      if (d.id === editingNodeId) {\n        const foreignObject = group.append('foreignObject')\n          .attr('x', -80)\n          .attr('y', -25)\n          .attr('width', 160)\n          .attr('height', 50);\n\n        foreignObject.append('xhtml:input')\n          .attr('type', 'text')\n          .property('value', editingText)\n          .style('width', '100%')\n          .style('height', '100%')\n          .style('border', 'none')\n          .style('outline', 'none')\n          .style('font-size', '16px')\n          .style('font-family', 'Inter, system-ui, sans-serif')\n          .style('font-weight', '600')\n          .style('text-align', 'center')\n          .style('display', 'flex')\n          .style('align-items', 'center')\n          .style('justify-content', 'center')\n          .on('input', function(event) {\n            setEditingText(event.target.value);\n          })\n          .on('keydown', function(event) {\n            if (event.key === 'Enter') {\n              saveEditing();\n            } else if (event.key === 'Escape') {\n              cancelEditing();\n            }\n          })\n          .on('blur', saveEditing);\n      } else {\n        group.append('text')\n          .attr('text-anchor', 'middle')\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('dy', '.35em')\n          .attr('font-size', '16px')\n          .attr('font-family', 'Inter, system-ui, sans-serif')\n          .attr('font-weight', '600')\n          .attr('fill', '#1e293b')\n          .text(d => d.name)\n          .style('pointer-events', 'none')\n          .call(wrapText, 160);\n      }\n    });\n\n  // Helper function to wrap text inside nodes\n  function wrapText(text, width) {\n    text.each(function() {\n      const text = d3.select(this);\n      const words = text.text().split(/\\s+/).reverse();\n      let word;\n      let line = [];\n      let lineNumber = 0;\n      const lineHeight = 1.1; // ems\n      const y = text.attr('y');\n      const dy = 0;\n      let tspan = text.text(null).append('tspan').attr('x', 0).attr('y', y).attr('dy', dy + 'em');\n      while (word = words.pop()) {\n        line.push(word);\n        tspan.text(line.join(' '));\n        if (tspan.node().getComputedTextLength() > width) {\n          line.pop();\n          tspan.text(line.join(' '));\n          line = [word];\n          tspan = text.append('tspan').attr('x', 0).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n        }\n      }\n    });\n  }\n\n    function linkArc(d) {\n      const source = d.source;\n      const target = d.target;\n      // Curved bezier line for smoother appearance\n      const dx = target.x - source.x;\n      const dy = target.y - source.y;\n      const cp1x = source.x + dx / 3;\n      const cp1y = source.y + dy / 2 - 20;\n      const cp2x = source.x + 2 * dx / 3;\n      const cp2y = target.y - dy / 2 + 20;\n      return `M ${source.x} ${source.y} C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${target.x} ${target.y}`;\n    }\n\n    function dragstarted(event, d) {\n      // No simulation, just start drag\n    }\n\n    function dragged(event, d) {\n      // Constrain both x and y\n      d.x = snapToGrid ? Math.round(event.x / 20) * 20 : event.x;\n      d.y = snapToGrid ? Math.round(event.y / 20) * 20 : event.y;\n      d3.select(this).attr('transform', `translate(${d.x}, ${d.y})`);\n      // Update links\n      link.attr('d', linkArc);\n      linkLabel\n        .attr('x', d => (d.source.x + d.target.x) / 2)\n        .attr('y', d => Math.min(d.source.y, d.target.y) - 15);\n    }\n\n    function dragended(event, d) {\n      // No simulation to stop\n    }\n  }, [graphData, error, width, height, colors, snapToGrid, selectedNodeName, startEditing, saveEditing, cancelEditing, editingNodeId, editingText, getNodePath]);\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"p-4 bg-white shadow-sm border-b flex justify-between items-center\">\n        <div className=\"flex items-center space-x-4\">\n          <Link to=\"/\" className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n             Home\n          </Link>\n          <h1 className=\"text-2xl font-bold text-gray-800\">IA Flowchart Diagram</h1>\n        </div>\n        <div className=\"flex flex-col items-end space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            {/* Replace text input with dropdown for keyword selection */}\n            <select\n              value={inputText}\n              onChange={(e) => { setInputText(e.target.value); if (e.target.value) generateIA(e.target.value); }}\n              disabled={loading}\n              className=\"w-64 px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none text-sm placeholder-gray-500\"\n            >\n              <option value=\"\">Select a keyword</option>\n              {Object.keys(templates).map((key) => (\n                <option key={key} value={key}>\n                  {templates[key].name} ({key})\n                </option>\n              ))}\n            </select>\n            {/* Referent feature */}\n            <button\n              onClick={() => navigate('/referent')}\n              disabled={loading}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\"\n            >\n              Referent\n            </button>\n            <button\n              onClick={() => navigate('/ai-chat')}\n              disabled={loading}\n              className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\"\n            >\n              AI Chat\n            </button>\n          </div>\n        </div>\n      </div>\n      {loading && <p className=\"p-2 text-blue-500 text-center\">Uploading...</p>}\n      {error && <div className=\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\" role=\"alert\">{error}</div>}\n      <div className=\"flex-1 relative\">\n        <svg ref={svgRef} width={width} height={height} className=\"absolute inset-0 w-full h-full bg-white\">\n        </svg>\n        {/* Floating Toolbar */}\n        <div className=\"absolute top-4 left-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\">\n          <button onClick={zoomIn} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">+</button>\n          <button onClick={zoomOut} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">-</button>\n          <button onClick={fitToScreen} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\"></button>\n          <button onClick={resetView} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\"></button>\n          <button onClick={addNode} className=\"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\">+</button>\n          <button onClick={deleteNode} disabled={selectedNodeName === null} className=\"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\"></button>\n          <button onClick={() => setSnapToGrid(!snapToGrid)} className={`px-2 py-1 text-xs rounded text-gray-700 shadow-sm ${snapToGrid ? 'bg-green-100' : 'bg-gray-100 hover:bg-gray-200'}`}></button>\n        </div>\n        {/* Legend */}\n        <div\n          className=\"absolute bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-50 max-w-xs backdrop-blur-sm cursor-move select-none\"\n          style={{ left: legendPosition.x, top: legendPosition.y }}\n          onMouseDown={(e) => {\n            setIsDraggingLegend(true);\n            setDragOffset({\n              x: e.clientX - legendPosition.x,\n              y: e.clientY - legendPosition.y,\n            });\n          }}\n          onMouseUp={() => setIsDraggingLegend(false)}\n          onMouseLeave={() => setIsDraggingLegend(false)}\n          onMouseMove={(e) => {\n            if (isDraggingLegend) {\n              setLegendPosition({\n                x: e.clientX - dragOffset.x,\n                y: e.clientY - dragOffset.y,\n              });\n            }\n          }}\n        >\n          <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">Legend</h3>\n          <div className=\"space-y-1 text-xs text-gray-700\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-blue-600\">Rectangle = Page / Screen</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-green-600\">Oval = Process / Action</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\"></span>\n              <span className=\"text-orange-600\">Diamond = Decision</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\"></span>\n              <span>Solid line = Direct navigation</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\">- - -</span>\n              <span>Dashed line = Related link</span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default IAFlowchart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}