{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[name,setName]=useState('');const[username,setUsername]=useState('');const[phone,setPhone]=useState('');const[isRegister,setIsRegister]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');const endpoint=isRegister?'/register':'/login';const body=isRegister?{email,password,name,username,phone}:{email,password};try{const response=await fetch(\"http://localhost:3003\".concat(endpoint),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});const data=await response.json();if(response.ok){localStorage.setItem('token',data.token);navigate('/app');}else{setError(data.error);}}catch(err){setError('Network error');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-6\",children:isRegister?'Register':'Login'}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-center mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[isRegister&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:e=>setPhone(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600\",children:isRegister?'Register':'Login'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-4\",children:[isRegister?'Already have an account?':\"Don't have an account?\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRegister(!isRegister),className:\"text-blue-500 ml-1\",children:isRegister?'Login':'Register'})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","email","setEmail","password","setPassword","name","setName","username","setUsername","phone","setPhone","isRegister","setIsRegister","error","setError","navigate","handleSubmit","e","preventDefault","endpoint","body","response","fetch","concat","method","headers","JSON","stringify","data","json","ok","localStorage","setItem","token","err","className","children","onSubmit","type","value","onChange","target","required","onClick"],"sources":["/Users/anbschool0009/Desktop/untitled folder 3/IA-Mate-repo/frontend/src/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [username, setUsername] = useState('');\n  const [phone, setPhone] = useState('');\n  const [isRegister, setIsRegister] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    const endpoint = isRegister ? '/register' : '/login';\n    const body = isRegister ? { email, password, name, username, phone } : { email, password };\n    try {\n      const response = await fetch(`http://localhost:3003${endpoint}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n      });\n\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('token', data.token);\n        navigate('/app');\n      } else {\n        setError(data.error);\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md\">\n        <h2 className=\"text-2xl font-bold text-center mb-6\">{isRegister ? 'Register' : 'Login'}</h2>\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\n        <form onSubmit={handleSubmit}>\n          {isRegister && (\n            <>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700\">Name</label>\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700\">Username</label>\n                <input\n                  type=\"text\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-700\">Phone</label>\n                <input\n                  type=\"text\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </>\n          )}\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700\">Email</label>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700\">Password</label>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600\"\n          >\n            {isRegister ? 'Register' : 'Login'}\n          </button>\n        </form>\n\n        <p className=\"text-center mt-4\">\n          {isRegister ? 'Already have an account?' : \"Don't have an account?\"}\n          <button\n            onClick={() => setIsRegister(!isRegister)}\n            className=\"text-blue-500 ml-1\"\n          >\n            {isRegister ? 'Login' : 'Register'}\n          </button>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}