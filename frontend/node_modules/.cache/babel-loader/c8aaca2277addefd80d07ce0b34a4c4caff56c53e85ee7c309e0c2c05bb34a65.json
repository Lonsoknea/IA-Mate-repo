{"ast":null,"code":"var _jsxFileName = \"/Users/anbschool0009/Desktop/untitled folder 7/IA-Mate-repo/frontend/src/IAFlowchart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction IAFlowchart() {\n  _s();\n  const navigate = useNavigate();\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({\n    nodes: [],\n    links: []\n  });\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [editingNodeId, setEditingNodeId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const [selectedNodeName, setSelectedNodeName] = useState(null);\n  const [inputText, setInputText] = useState('');\n  // Removed aiResponse and setAiResponse state\n  const [legendPosition, setLegendPosition] = useState({\n    x: 80,\n    y: 200\n  });\n  const [isDraggingLegend, setIsDraggingLegend] = useState(false);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n  const templates = useMemo(() => ({\n    'e-commerce': {\n      name: 'E-commerce Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Landing page with featured products and promotions'\n      }, {\n        name: 'Browse Products',\n        type: 'action',\n        description: 'User browses product categories and lists',\n        children: [{\n          name: 'Product Details',\n          type: 'page',\n          description: 'Detailed view of a selected product with images, specs, and reviews'\n        }]\n      }, {\n        name: 'Shopping Cart',\n        type: 'page',\n        description: 'View and manage products added to cart'\n      }, {\n        name: 'Checkout',\n        type: 'action',\n        label: 'Proceed to payment',\n        description: 'User enters shipping and billing information'\n      }, {\n        name: 'Login Required?',\n        type: 'decision',\n        description: 'Check if user is logged in before checkout',\n        children: [{\n          name: 'Authentication Page',\n          type: 'page',\n          description: 'User authentication flow',\n          children: [{\n            name: 'Sign Up',\n            type: 'action',\n            children: [{\n              name: 'Input Personal Info',\n              type: 'action',\n              description: 'User inputs personal information'\n            }, {\n              name: 'Enter OTP Code',\n              type: 'action',\n              description: 'User enters OTP code for verification'\n            }, {\n              name: 'OTP Verified',\n              type: 'decision',\n              children: [{\n                name: 'Home Page',\n                type: 'page',\n                description: 'User redirected after successful sign up'\n              }]\n            }]\n          }, {\n            name: 'Sign Up with Google',\n            type: 'action',\n            description: 'User signs up using Google OAuth',\n            children: [{\n              name: 'Home Page',\n              type: 'page',\n              description: 'User redirected after successful Google sign up'\n            }]\n          }, {\n            name: 'Login',\n            type: 'action',\n            children: [{\n              name: 'Enter Email and Password',\n              type: 'action',\n              description: 'User enters login credentials'\n            }, {\n              name: 'Login Success',\n              type: 'decision',\n              children: [{\n                name: 'Home Page',\n                type: 'page',\n                description: 'User redirected after successful login'\n              }]\n            }, {\n              name: 'Forget Password',\n              type: 'action',\n              children: [{\n                name: 'Enter Email',\n                type: 'action',\n                description: 'User enters email for password reset'\n              }, {\n                name: 'Enter OTP Code',\n                type: 'action',\n                description: 'User enters OTP code for verification'\n              }, {\n                name: 'OTP Verified',\n                type: 'decision',\n                children: [{\n                  name: 'Set New Password',\n                  type: 'action',\n                  description: 'User sets a new password'\n                }, {\n                  name: 'Home Page',\n                  type: 'page',\n                  description: 'User redirected after password reset'\n                }]\n              }]\n            }]\n          }]\n        }, {\n          name: 'Guest Checkout',\n          type: 'page',\n          linkType: 'related',\n          label: 'Alternative path',\n          description: 'Checkout without account'\n        }]\n      }, {\n        name: 'Payment Method',\n        type: 'decision',\n        description: 'User selects payment method',\n        children: [{\n          name: 'Credit Card',\n          type: 'page',\n          label: 'Choose Card',\n          description: 'Enter credit card details securely'\n        }, {\n          name: 'PayPal',\n          type: 'action',\n          label: 'Redirect to PayPal',\n          description: 'Redirect to PayPal for payment authorization'\n        }]\n      }, {\n        name: 'Order Confirmation',\n        type: 'page',\n        description: 'Order summary and confirmation details'\n      }, {\n        name: 'User Profile',\n        type: 'page',\n        linkType: 'related',\n        description: 'User account management and order history'\n      }]\n    },\n    'portfolio': {\n      name: 'Portfolio Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Introduction and overview'\n      }, {\n        name: 'About Me',\n        type: 'page',\n        description: 'Personal bio and background'\n      }, {\n        name: 'Projects',\n        type: 'page',\n        description: 'Showcase of projects with details',\n        children: [{\n          name: 'Project 1',\n          type: 'page',\n          description: 'Details and media for project 1'\n        }, {\n          name: 'Project 2',\n          type: 'page',\n          description: 'Details and media for project 2'\n        }]\n      }, {\n        name: 'Contact',\n        type: 'page',\n        description: 'Contact form and social links'\n      }, {\n        name: 'Blog',\n        type: 'page',\n        linkType: 'related',\n        description: 'Articles and updates'\n      }, {\n        name: 'Admin Login Required?',\n        type: 'decision',\n        description: 'Check if admin is logged in for editing',\n        children: [{\n          name: 'Authentication Page',\n          type: 'page',\n          description: 'Admin authentication flow',\n          children: [{\n            name: 'Sign Up',\n            type: 'action',\n            children: [{\n              name: 'Input Personal Info',\n              type: 'action',\n              description: 'User inputs personal information'\n            }, {\n              name: 'Enter OTP Code',\n              type: 'action',\n              description: 'User enters OTP code for verification'\n            }, {\n              name: 'OTP Verified',\n              type: 'decision',\n              children: [{\n                name: 'Admin Dashboard',\n                type: 'page',\n                description: 'User redirected after successful sign up'\n              }]\n            }]\n          }, {\n            name: 'Sign Up with Google',\n            type: 'action',\n            description: 'User signs up using Google OAuth',\n            children: [{\n              name: 'Admin Dashboard',\n              type: 'page',\n              description: 'User redirected after successful Google sign up'\n            }]\n          }, {\n            name: 'Login',\n            type: 'action',\n            children: [{\n              name: 'Enter Email and Password',\n              type: 'action',\n              description: 'User enters login credentials'\n            }, {\n              name: 'Login Success',\n              type: 'decision',\n              children: [{\n                name: 'Admin Dashboard',\n                type: 'page',\n                description: 'User redirected after successful login'\n              }]\n            }, {\n              name: 'Forget Password',\n              type: 'action',\n              children: [{\n                name: 'Enter Email',\n                type: 'action',\n                description: 'User enters email for password reset'\n              }, {\n                name: 'Enter OTP Code',\n                type: 'action',\n                description: 'User enters OTP code for verification'\n              }, {\n                name: 'OTP Verified',\n                type: 'decision',\n                children: [{\n                  name: 'Set New Password',\n                  type: 'action',\n                  description: 'User sets a new password'\n                }, {\n                  name: 'Admin Dashboard',\n                  type: 'page',\n                  description: 'User redirected after password reset'\n                }]\n              }]\n            }]\n          }]\n        }, {\n          name: 'Public View',\n          type: 'page',\n          linkType: 'related',\n          label: 'Alternative path',\n          description: 'View portfolio without login'\n        }]\n      }]\n    },\n    'blog': {\n      name: 'Blog Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Latest posts and featured content'\n      }, {\n        name: 'Posts List',\n        type: 'page',\n        description: 'List of blog posts',\n        children: [{\n          name: 'Single Post',\n          type: 'page',\n          description: 'Full content of a single blog post'\n        }]\n      }, {\n        name: 'Categories',\n        type: 'decision',\n        description: 'Filter posts by category',\n        children: [{\n          name: 'Technology',\n          type: 'page',\n          description: 'Posts about technology'\n        }, {\n          name: 'Design',\n          type: 'page',\n          description: 'Posts about design'\n        }, {\n          name: 'Lifestyle',\n          type: 'page',\n          description: 'Posts about lifestyle'\n        }]\n      }, {\n        name: 'About',\n        type: 'page',\n        description: 'About the blog and author'\n      }, {\n        name: 'Login Required?',\n        type: 'decision',\n        description: 'Check if user is logged in for commenting',\n        children: [{\n          name: 'Authentication Page',\n          type: 'page',\n          description: 'User authentication flow',\n          children: [{\n            name: 'Sign Up',\n            type: 'action',\n            children: [{\n              name: 'Input Personal Info',\n              type: 'action',\n              description: 'User inputs personal information'\n            }, {\n              name: 'Enter OTP Code',\n              type: 'action',\n              description: 'User enters OTP code for verification'\n            }, {\n              name: 'OTP Verified',\n              type: 'decision',\n              children: [{\n                name: 'Comments Section',\n                type: 'action',\n                description: 'User redirected after successful sign up to comment'\n              }]\n            }]\n          }, {\n            name: 'Sign Up with Google',\n            type: 'action',\n            description: 'User signs up using Google OAuth',\n            children: [{\n              name: 'Comments Section',\n              type: 'action',\n              description: 'User redirected after successful Google sign up to comment'\n            }]\n          }, {\n            name: 'Login',\n            type: 'action',\n            children: [{\n              name: 'Enter Email and Password',\n              type: 'action',\n              description: 'User enters login credentials'\n            }, {\n              name: 'Login Success',\n              type: 'decision',\n              children: [{\n                name: 'Comments Section',\n                type: 'action',\n                description: 'User redirected after successful login to comment'\n              }]\n            }, {\n              name: 'Forget Password',\n              type: 'action',\n              children: [{\n                name: 'Enter Email',\n                type: 'action',\n                description: 'User enters email for password reset'\n              }, {\n                name: 'Enter OTP Code',\n                type: 'action',\n                description: 'User enters OTP code for verification'\n              }, {\n                name: 'OTP Verified',\n                type: 'decision',\n                children: [{\n                  name: 'Set New Password',\n                  type: 'action',\n                  description: 'User sets a new password'\n                }, {\n                  name: 'Comments Section',\n                  type: 'action',\n                  description: 'User redirected after password reset to comment'\n                }]\n              }]\n            }]\n          }]\n        }, {\n          name: 'Guest Comments',\n          type: 'action',\n          linkType: 'related',\n          label: 'Alternative path',\n          description: 'Comment without account'\n        }]\n      }]\n    },\n    'restaurant': {\n      name: 'Restaurant Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Welcome and featured dishes'\n      }, {\n        name: 'Menu',\n        type: 'page',\n        description: 'Full menu with categories'\n      }, {\n        name: 'Browse Dishes',\n        type: 'action',\n        description: 'User browses dishes by category',\n        children: [{\n          name: 'Dish Details',\n          type: 'page',\n          description: 'Details and ingredients of a dish'\n        }]\n      }, {\n        name: 'Login Required?',\n        type: 'decision',\n        description: 'Check if user is logged in before ordering',\n        children: [{\n          name: 'Authentication Page',\n          type: 'page',\n          description: 'User authentication flow',\n          children: [{\n            name: 'Sign Up',\n            type: 'action',\n            children: [{\n              name: 'Input Personal Info',\n              type: 'action',\n              description: 'User inputs personal information'\n            }, {\n              name: 'Enter OTP Code',\n              type: 'action',\n              description: 'User enters OTP code for verification'\n            }, {\n              name: 'OTP Verified',\n              type: 'decision',\n              children: [{\n                name: 'Order Online',\n                type: 'decision',\n                description: 'Choose order type after sign up'\n              }]\n            }]\n          }, {\n            name: 'Sign Up with Google',\n            type: 'action',\n            description: 'User signs up using Google OAuth',\n            children: [{\n              name: 'Order Online',\n              type: 'decision',\n              description: 'Choose order type after Google sign up'\n            }]\n          }, {\n            name: 'Login',\n            type: 'action',\n            children: [{\n              name: 'Enter Email and Password',\n              type: 'action',\n              description: 'User enters login credentials'\n            }, {\n              name: 'Login Success',\n              type: 'decision',\n              children: [{\n                name: 'Order Online',\n                type: 'decision',\n                description: 'Choose order type after login'\n              }]\n            }, {\n              name: 'Forget Password',\n              type: 'action',\n              children: [{\n                name: 'Enter Email',\n                type: 'action',\n                description: 'User enters email for password reset'\n              }, {\n                name: 'Enter OTP Code',\n                type: 'action',\n                description: 'User enters OTP code for verification'\n              }, {\n                name: 'OTP Verified',\n                type: 'decision',\n                children: [{\n                  name: 'Set New Password',\n                  type: 'action',\n                  description: 'User sets a new password'\n                }, {\n                  name: 'Order Online',\n                  type: 'decision',\n                  description: 'Choose order type after password reset'\n                }]\n              }]\n            }]\n          }]\n        }, {\n          name: 'Order as Guest',\n          type: 'decision',\n          linkType: 'related',\n          label: 'Alternative path',\n          description: 'Order without account'\n        }]\n      }, {\n        name: 'Order Online',\n        type: 'decision',\n        description: 'Choose order type',\n        children: [{\n          name: 'Dine In',\n          type: 'page',\n          label: 'Reserve table',\n          description: 'Table reservation system'\n        }, {\n          name: 'Takeaway',\n          type: 'action',\n          label: 'Quick order',\n          description: 'Order for pickup or delivery'\n        }]\n      }, {\n        name: 'Reservations',\n        type: 'page',\n        description: 'Manage reservations'\n      }, {\n        name: 'Contact',\n        type: 'page',\n        linkType: 'related',\n        description: 'Contact information and form'\n      }, {\n        name: 'Reviews',\n        type: 'page',\n        description: 'Customer reviews and ratings'\n      }]\n    },\n    'university': {\n      name: 'University Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'University overview and news'\n      }, {\n        name: 'Admissions',\n        type: 'decision',\n        description: 'Admission process options',\n        children: [{\n          name: 'Apply Online',\n          type: 'action',\n          description: 'Online application form'\n        }, {\n          name: 'Visit Campus',\n          type: 'page',\n          linkType: 'related',\n          description: 'Campus visit scheduling'\n        }]\n      }, {\n        name: 'Courses',\n        type: 'page',\n        description: 'Course catalog and details'\n      }, {\n        name: 'Enroll',\n        type: 'action',\n        description: 'Enrollment process',\n        children: [{\n          name: 'Course Details',\n          type: 'page',\n          description: 'Detailed course information'\n        }]\n      }, {\n        name: 'Library',\n        type: 'page',\n        description: 'Library resources and search'\n      }, {\n        name: 'Resources',\n        type: 'page',\n        linkType: 'related',\n        description: 'Student resources and support'\n      }, {\n        name: 'Contact',\n        type: 'page',\n        description: 'Contact information'\n      }]\n    },\n    'banking app': {\n      name: 'Banking App',\n      type: 'page',\n      children: [{\n        name: 'Login Required?',\n        type: 'decision',\n        description: 'Check if user is logged in before accessing dashboard',\n        children: [{\n          name: 'Authentication Page',\n          type: 'page',\n          description: 'User authentication flow',\n          children: [{\n            name: 'Sign Up',\n            type: 'action',\n            children: [{\n              name: 'Input Personal Info',\n              type: 'action',\n              description: 'User inputs personal information'\n            }, {\n              name: 'Enter OTP Code',\n              type: 'action',\n              description: 'User enters OTP code for verification'\n            }, {\n              name: 'OTP Verified',\n              type: 'decision',\n              children: [{\n                name: 'Dashboard',\n                type: 'page',\n                description: 'User redirected after successful sign up'\n              }]\n            }]\n          }, {\n            name: 'Sign Up with Google',\n            type: 'action',\n            description: 'User signs up using Google OAuth',\n            children: [{\n              name: 'Dashboard',\n              type: 'page',\n              description: 'User redirected after successful Google sign up'\n            }]\n          }, {\n            name: 'Login',\n            type: 'action',\n            children: [{\n              name: 'Enter Email and Password',\n              type: 'action',\n              description: 'User enters login credentials'\n            }, {\n              name: 'Login Success',\n              type: 'decision',\n              children: [{\n                name: 'Dashboard',\n                type: 'page',\n                description: 'User redirected after successful login'\n              }]\n            }, {\n              name: 'Forget Password',\n              type: 'action',\n              children: [{\n                name: 'Enter Email',\n                type: 'action',\n                description: 'User enters email for password reset'\n              }, {\n                name: 'Enter OTP Code',\n                type: 'action',\n                description: 'User enters OTP code for verification'\n              }, {\n                name: 'OTP Verified',\n                type: 'decision',\n                children: [{\n                  name: 'Set New Password',\n                  type: 'action',\n                  description: 'User sets a new password'\n                }, {\n                  name: 'Dashboard',\n                  type: 'page',\n                  description: 'User redirected after password reset'\n                }]\n              }]\n            }]\n          }]\n        }, {\n          name: 'Guest Access',\n          type: 'page',\n          linkType: 'related',\n          label: 'Alternative path',\n          description: 'Access without login'\n        }]\n      }, {\n        name: 'Dashboard',\n        type: 'page',\n        description: 'Account overview and summary'\n      }, {\n        name: 'Transfer Funds',\n        type: 'decision',\n        description: 'Choose transfer type',\n        children: [{\n          name: 'Internal Transfer',\n          type: 'action',\n          description: 'Transfer between user accounts'\n        }, {\n          name: 'External Transfer',\n          type: 'page',\n          label: 'To other banks',\n          description: 'Transfer to external accounts'\n        }]\n      }, {\n        name: 'Account Details',\n        type: 'page',\n        description: 'Detailed account information'\n      }, {\n        name: 'Support',\n        type: 'page',\n        linkType: 'related',\n        description: 'Customer support and FAQs'\n      }, {\n        name: 'Transactions',\n        type: 'page',\n        description: 'Transaction history and statements'\n      }]\n    },\n    'social media': {\n      name: 'Social Media Platform',\n      type: 'page',\n      children: [{\n        name: 'Login',\n        type: 'action',\n        description: 'User login and registration'\n      }, {\n        name: 'Feed',\n        type: 'page',\n        description: 'User posts and updates'\n      }, {\n        name: 'Create Post',\n        type: 'action',\n        description: 'Post creation workflow',\n        children: [{\n          name: 'Add Media',\n          type: 'page',\n          description: 'Upload images or videos'\n        }, {\n          name: 'Post Options',\n          type: 'decision',\n          description: 'Privacy and tagging options'\n        }]\n      }, {\n        name: 'Profile',\n        type: 'page',\n        description: 'User profile and settings'\n      }, {\n        name: 'Notifications',\n        type: 'page',\n        description: 'User notifications',\n        children: [{\n          name: 'Likes',\n          type: 'action',\n          description: 'Likes on posts'\n        }, {\n          name: 'Comments',\n          type: 'action',\n          description: 'Comments on posts'\n        }]\n      }, {\n        name: 'Messages',\n        type: 'page',\n        linkType: 'related',\n        description: 'Private messaging'\n      }, {\n        name: 'Settings',\n        type: 'page',\n        description: 'Account and privacy settings'\n      }]\n    },\n    'news website': {\n      name: 'News Website',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Latest news and headlines'\n      }, {\n        name: 'News Categories',\n        type: 'decision',\n        description: 'Filter news by category',\n        children: [{\n          name: 'Politics',\n          type: 'page',\n          description: 'Political news'\n        }, {\n          name: 'Sports',\n          type: 'page',\n          description: 'Sports news'\n        }, {\n          name: 'Entertainment',\n          type: 'page',\n          description: 'Entertainment news'\n        }]\n      }, {\n        name: 'Article Page',\n        type: 'page',\n        description: 'Full news article',\n        children: [{\n          name: 'Comments',\n          type: 'action',\n          description: 'User comments on articles'\n        }, {\n          name: 'Share',\n          type: 'action',\n          description: 'Social sharing options'\n        }]\n      }, {\n        name: 'Search',\n        type: 'action',\n        description: 'Search news articles'\n      }, {\n        name: 'About',\n        type: 'page',\n        linkType: 'related',\n        description: 'About the news organization'\n      }, {\n        name: 'Contact',\n        type: 'page',\n        description: 'Contact information'\n      }]\n    },\n    'learning management system': {\n      name: 'Learning Management System',\n      type: 'page',\n      children: [{\n        name: 'Login',\n        type: 'action',\n        description: 'User authentication'\n      }, {\n        name: 'Dashboard',\n        type: 'page',\n        description: 'Overview of courses and progress'\n      }, {\n        name: 'Courses',\n        type: 'page',\n        description: 'List of courses',\n        children: [{\n          name: 'Course Content',\n          type: 'page',\n          description: 'Lessons and materials'\n        }, {\n          name: 'Assignments',\n          type: 'action',\n          description: 'Assignment submission and grading'\n        }]\n      }, {\n        name: 'Grades',\n        type: 'page',\n        description: 'View grades and feedback',\n        children: [{\n          name: 'View Grades',\n          type: 'action',\n          description: 'Detailed grade reports'\n        }, {\n          name: 'Feedback',\n          type: 'page',\n          description: 'Instructor feedback'\n        }]\n      }, {\n        name: 'Discussion Forums',\n        type: 'page',\n        linkType: 'related',\n        description: 'Course discussions and Q&A'\n      }, {\n        name: 'Profile',\n        type: 'page',\n        description: 'User profile and settings'\n      }]\n    },\n    'fitness app': {\n      name: 'Fitness App',\n      type: 'page',\n      children: [{\n        name: 'Login',\n        type: 'action',\n        description: 'User authentication'\n      }, {\n        name: 'Home Dashboard',\n        type: 'page',\n        description: 'Overview of fitness stats'\n      }, {\n        name: 'Workouts',\n        type: 'decision',\n        description: 'Workout selection and tracking',\n        children: [{\n          name: 'Start Workout',\n          type: 'action',\n          description: 'Begin a workout session'\n        }, {\n          name: 'View History',\n          type: 'page',\n          description: 'Past workout records'\n        }]\n      }, {\n        name: 'Progress Tracking',\n        type: 'page',\n        description: 'Track fitness progress over time'\n      }, {\n        name: 'Nutrition',\n        type: 'page',\n        description: 'Diet and meal planning',\n        children: [{\n          name: 'Meal Plans',\n          type: 'action',\n          description: 'Create and manage meal plans'\n        }, {\n          name: 'Calorie Counter',\n          type: 'page',\n          description: 'Track daily calorie intake'\n        }]\n      }, {\n        name: 'Community',\n        type: 'page',\n        linkType: 'related',\n        description: 'Social features and groups'\n      }, {\n        name: 'Settings',\n        type: 'page',\n        description: 'App settings and preferences'\n      }]\n    },\n    'travel booking': {\n      name: 'Travel Booking Site',\n      type: 'page',\n      children: [{\n        name: 'Home',\n        type: 'page',\n        description: 'Welcome and featured destinations'\n      }, {\n        name: 'Search Flights/Hotels',\n        type: 'action',\n        description: 'Search for flights and hotels',\n        children: [{\n          name: 'Flight Results',\n          type: 'page',\n          description: 'List of available flights'\n        }, {\n          name: 'Hotel Results',\n          type: 'page',\n          description: 'List of available hotels'\n        }]\n      }, {\n        name: 'Booking Details',\n        type: 'page',\n        description: 'Review booking information'\n      }, {\n        name: 'Payment',\n        type: 'decision',\n        description: 'Select payment method',\n        children: [{\n          name: 'Credit Card',\n          type: 'action',\n          description: 'Enter credit card details'\n        }, {\n          name: 'PayPal',\n          type: 'action',\n          description: 'Pay via PayPal'\n        }]\n      }, {\n        name: 'Confirmation',\n        type: 'page',\n        description: 'Booking confirmation and receipt'\n      }, {\n        name: 'My Trips',\n        type: 'page',\n        linkType: 'related',\n        description: 'Manage upcoming and past trips'\n      }, {\n        name: 'Support',\n        type: 'page',\n        description: 'Customer support and FAQs'\n      }]\n    }\n  }), []);\n  const genericTemplate = useMemo(() => ({\n    name: 'Generic Site',\n    type: 'page',\n    children: [{\n      name: 'Home',\n      type: 'page'\n    }, {\n      name: 'Services',\n      type: 'page'\n    }, {\n      name: 'Service Selection',\n      type: 'decision',\n      children: [{\n        name: 'Basic Service',\n        type: 'action'\n      }, {\n        name: 'Premium Service',\n        type: 'page'\n      }]\n    }, {\n      name: 'Blog',\n      type: 'page',\n      linkType: 'related'\n    }, {\n      name: 'Login',\n      type: 'action'\n    }, {\n      name: 'Contact',\n      type: 'page'\n    }, {\n      name: 'Checkout',\n      type: 'decision',\n      children: [{\n        name: 'Payment Methods',\n        type: 'page'\n      }, {\n        name: 'Order Review',\n        type: 'action'\n      }]\n    }, {\n      name: 'Payment',\n      type: 'page'\n    }]\n  }), []);\n  const colors = useMemo(() => ['#f8fafc', '#e2e8f0', '#cbd5e1', '#94a3b8', '#64748b'], []);\n  const hierarchyToGraph = useCallback(data => {\n    const nodes = [];\n    const links = [];\n\n    // Use tree layout for initial positions to avoid random overlaps\n    const treeLayout = d3.tree().size([height - 100, width - 200]);\n    const root = d3.hierarchy(data);\n    treeLayout(root);\n    const traverse = (d, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      const hasChildren = d.children && d.children.length > 0;\n      nodes.push({\n        id,\n        name: d.data.name,\n        type: d.data.type || 'action',\n        x: d.y + width / 2,\n        // Horizontal tree\n        y: d.x + height / 2,\n        depth,\n        fx: d.y + width / 2,\n        fy: d.x + height / 2,\n        hasChildren\n      });\n      if (parentId !== null) {\n        links.push({\n          source: nodes[parentId],\n          target: nodes[id],\n          label: d.data.label || '',\n          type: d.data.linkType || 'direct'\n        });\n      }\n      if (d.children) {\n        d.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n    traverse(root);\n    return {\n      nodes,\n      links\n    };\n  }, [width, height]);\n\n  // Define recursive functions using useCallback to avoid parsing issues\n  const addChildToNode = useCallback((root, parentName, newChild) => {\n    if (root.name === parentName) {\n      root.children = root.children || [];\n      root.children.push(newChild);\n      return root;\n    }\n    if (root.children) {\n      for (let i = 0; i < root.children.length; i++) {\n        const updated = addChildToNode(root.children[i], parentName, newChild);\n        if (updated) {\n          root.children[i] = updated;\n          return root;\n        }\n      }\n    }\n    return null;\n  }, []);\n  const removeNodeByName = useCallback((root, targetName) => {\n    if (root.name === targetName) {\n      return null; // Remove this node\n    }\n    if (root.children) {\n      root.children = root.children.map(child => removeNodeByName(child, targetName)).filter(Boolean);\n      return root;\n    }\n    return root;\n  }, []);\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Removed JSON upload feature, replaced with Referent feature placeholder\n  // const handleFileUpload = async (event) => {\n  //   const file = event.target.files[0];\n  //   if (!file) return;\n\n  //   if (!file.name.endsWith('.json')) {\n  //     setError('Please select a JSON file.');\n  //     return;\n  //   }\n\n  //   setLoading(true);\n  //   setError('');\n\n  //   try {\n  //     const text = await file.text();\n  //     const jsonData = JSON.parse(text);\n  //     setIaData(jsonData);\n  //     setError('');\n  //   } catch (err) {\n  //     setError('Invalid JSON file.');\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('https://ia-mate-repo-y4ob.onrender.com/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 1.2);\n    }\n  }, []);\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 0.8);\n    }\n  }, []);\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = bounds.x + bounds.width / 2;\n      const midY = bounds.y + bounds.height / 2;\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity);\n    }\n  }, []);\n  const addNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n    const newChild = {\n      name: `New Node ${Date.now()}`,\n      type: 'action',\n      children: []\n    };\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    addChildToNode(newIaData, selectedNodeName, newChild);\n    setIaData(newIaData);\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, addChildToNode]);\n  const deleteNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    const updatedRoot = removeNodeByName(newIaData, selectedNodeName);\n    if (updatedRoot) {\n      setIaData(updatedRoot);\n    } else {\n      setIaData(null);\n    }\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, removeNodeByName]);\n  const startEditing = useCallback(d => {\n    setEditingNodeId(d.id);\n    setEditingText(d.name);\n  }, []);\n  const saveEditing = useCallback(() => {\n    if (editingNodeId !== null) {\n      setGraphData(prev => ({\n        ...prev,\n        nodes: prev.nodes.map(n => n.id === editingNodeId ? {\n          ...n,\n          name: editingText\n        } : n)\n      }));\n      setEditingNodeId(null);\n      setEditingText('');\n    }\n  }, [editingNodeId, editingText]);\n  const cancelEditing = useCallback(() => {\n    setEditingNodeId(null);\n    setEditingText('');\n  }, []);\n  const getNodePath = useCallback(d => {\n    const w = 80; // half width 160\n    const h = 30; // half height 60\n    const rx = 8;\n    const ry = 8;\n    switch (d.type) {\n      case 'action':\n        // Oval (ellipse)\n        return `M ${-w} 0 A ${w} ${h} 0 1 1 ${w} 0 A ${w} ${h} 0 1 1 ${-w} 0 Z`;\n      case 'decision':\n        // Diamond\n        return `M 0 ${-h} L ${w} 0 L 0 ${h} L ${-w} 0 Z`;\n      case 'page':\n      default:\n        // Rounded rectangle\n        return `M ${-w + rx} ${-h} h ${w - 2 * rx} a ${rx} ${ry} 0 0 1 ${rx} ${ry} v ${h - 2 * ry} a ${rx} ${ry} 0 0 1 -${rx} ${ry} h ${-(w - 2 * rx)} a ${rx} ${ry} 0 0 1 -${rx} -${ry} v ${-(h - 2 * ry)} a ${rx} ${ry} 0 0 1 ${rx} -${ry} z`;\n    }\n  }, []);\n  const generateIA = useCallback(keywordParam => {\n    const keyword = (keywordParam || '').trim().toLowerCase();\n    if (!keyword) {\n      setError('Please enter a keyword');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      let generated;\n      if (templates[keyword]) {\n        generated = templates[keyword];\n      } else {\n        generated = genericTemplate;\n        setError('Keyword not recognized. Using generic template. Try \"e-commerce\", \"portfolio\", or \"blog\".');\n      }\n      setIaData(generated);\n      // Auto-fit after generation\n      setTimeout(() => fitToScreen(), 100);\n    } catch (err) {\n      setError('Failed to generate IA.');\n      setIaData(genericTemplate);\n      setTimeout(() => fitToScreen(), 100);\n    } finally {\n      setLoading(false);\n    }\n  }, [templates, genericTemplate, fitToScreen]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (!graphData.nodes.length || error) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    const g = svg.append('g');\n    gRef.current = g.node();\n\n    // Add zoom and pan with smooth transitions\n    zoomRef.current = d3.zoom().scaleExtent([0.1, 4]).on('zoom', event => {\n      if (gRef.current) d3.select(gRef.current).attr('transform', event.transform);\n    });\n    svg.call(zoomRef.current);\n\n    // Enhanced defs for arrow markers, shadow, and glow\n    const defs = svg.append('defs');\n\n    // Arrowhead\n    defs.append('marker').attr('id', 'arrowhead').attr('viewBox', '-0 -5 10 10').attr('refX', 15).attr('refY', 0).attr('orient', 'auto').attr('markerWidth', 8).attr('markerHeight', 8).attr('xoverflow', 'visible').append('path').attr('d', 'M 0,-5 L 10 ,0 L 0,5').attr('fill', '#4b5563') // darker gray for better contrast\n    .attr('stroke', 'none');\n\n    // Soft shadow\n    const shadowFilter = defs.append('filter').attr('id', 'shadow').attr('x', '-50%').attr('y', '-50%').attr('width', '200%').attr('height', '200%');\n    shadowFilter.append('feDropShadow').attr('dx', 1).attr('dy', 1).attr('stdDeviation', 3).attr('flood-color', 'rgba(0,0,0,0.15)');\n\n    // Glow for hover\n    const glowFilter = defs.append('filter').attr('id', 'glow').attr('x', '-50%').attr('y', '-50%').attr('width', '200%').attr('height', '200%');\n    glowFilter.append('feGaussianBlur').attr('in', 'SourceAlpha').attr('stdDeviation', 3).attr('result', 'blur');\n    glowFilter.append('feOffset').attr('in', 'blur').attr('dx', 0).attr('dy', 0).attr('result', 'offsetBlur');\n    glowFilter.append('feFlood').attr('flood-color', '#2563eb') // blue glow for hover\n    .attr('flood-opacity', '0.9').attr('result', 'glowColor');\n    glowFilter.append('feComposite').attr('in', 'glowColor').attr('in2', 'offsetBlur').attr('operator', 'in').attr('result', 'glowShape');\n    const feMerge = glowFilter.append('feMerge');\n    feMerge.append('feMergeNode').attr('in', 'glowShape');\n    feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    // Curved links for smoother appearance\n    const link = g.selectAll('.link').data(graphData.links).enter().append('path').attr('class', 'link').attr('fill', 'none').attr('marker-end', 'url(#arrowhead)').attr('stroke', '#6b7280') // darker gray for better visibility\n    .attr('stroke-width', 3).attr('stroke-dasharray', d => d.type === 'related' ? '6,6' : 'none').attr('d', linkArc).style('transition', 'stroke 0.3s ease, stroke-width 0.3s ease');\n\n    // Link labels (hidden if empty)\n    const linkLabel = g.selectAll('.link-label').data(graphData.links).enter().append('text').attr('class', 'link-label').attr('font-size', 14).attr('fill', '#374151') // dark gray for better readability\n    .attr('font-weight', '600').attr('text-anchor', 'middle').attr('dominant-baseline', 'middle').attr('x', d => (d.source.x + d.target.x) / 2).attr('y', d => Math.min(d.source.y, d.target.y) - 20).style('pointer-events', 'none').text(d => d.label || '').style('display', d => d.label ? 'block' : 'none').style('text-shadow', 'none');\n\n    // Nodes with animations, hover glow\n    const node = g.selectAll('.node').data(graphData.nodes).enter().append('g').classed('node', true).attr('opacity', 0).style('transition', 'opacity 0.5s ease').call(d3.drag().on('start', dragstarted).on('drag', dragged).on('end', dragended)).on('click', (event, d) => {\n      if (editingNodeId !== null) {\n        saveEditing();\n      }\n      setSelectedNodeName(d.name);\n    }).on('dblclick', (event, d) => {\n      event.stopPropagation();\n      startEditing(d);\n    }).on('mouseover', function (event, d) {\n      d3.select(this).select('path').attr('filter', 'url(#glow)').attr('stroke', '#3b82f6').attr('stroke-width', 4);\n      // Highlight outgoing links\n      g.selectAll('.link').filter(l => l.source.id === d.id).attr('stroke', '#3b82f6').attr('stroke-width', 3.5);\n    }).on('mouseout', function (event, d) {\n      d3.select(this).select('path').attr('filter', 'url(#shadow)').attr('stroke', selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length]).attr('stroke-width', selectedNodeName === d.name ? 4 : 2.5);\n      g.selectAll('.link').attr('stroke', '#9ca3af').attr('stroke-width', 2.5);\n    });\n\n    // Set node positions directly from tree layout\n    node.attr('opacity', 0).attr('transform', d => `translate(${d.x}, ${d.y}) scale(0.7)`).transition().duration(500).attr('opacity', 1).attr('transform', d => `translate(${d.x}, ${d.y}) scale(1)`);\n    node.append('rect').attr('x', d => {\n      if (d.type === 'decision') return -70;\n      if (d.type === 'action') return -80;\n      return -90;\n    }).attr('y', d => -25).attr('width', d => {\n      if (d.type === 'decision') return 140;\n      if (d.type === 'action') return 160;\n      return 180;\n    }).attr('height', 50).attr('rx', d => d.type === 'decision' ? 0 : 15).attr('ry', d => d.type === 'decision' ? 0 : 15).attr('fill', d => {\n      switch (d.type) {\n        case 'page':\n          return '#e0e7ff';\n        // lighter blue\n        case 'action':\n          return '#d1fae5';\n        // lighter green\n        case 'decision':\n          return '#fed7aa';\n        // orange\n        default:\n          return '#f3f4f6';\n        // light gray\n      }\n    }).attr('stroke', d => selectedNodeName === d.name ? '#2563eb' : colors[d.depth % colors.length]).attr('stroke-width', d => selectedNodeName === d.name ? 4 : 2).attr('filter', 'url(#shadow)');\n    node.each(function (d) {\n      const group = d3.select(this);\n      if (d.id === editingNodeId) {\n        const foreignObject = group.append('foreignObject').attr('x', -80).attr('y', -25).attr('width', 160).attr('height', 50);\n        foreignObject.append('xhtml:input').attr('type', 'text').property('value', editingText).style('width', '100%').style('height', '100%').style('border', 'none').style('outline', 'none').style('font-size', '16px').style('font-family', 'Inter, system-ui, sans-serif').style('font-weight', '600').style('text-align', 'center').style('display', 'flex').style('align-items', 'center').style('justify-content', 'center').on('input', function (event) {\n          setEditingText(event.target.value);\n        }).on('keydown', function (event) {\n          if (event.key === 'Enter') {\n            saveEditing();\n          } else if (event.key === 'Escape') {\n            cancelEditing();\n          }\n        }).on('blur', saveEditing);\n      } else {\n        group.append('text').attr('text-anchor', 'middle').attr('x', 0).attr('y', 0).attr('dy', '.35em').attr('font-size', '16px').attr('font-family', 'Inter, system-ui, sans-serif').attr('font-weight', '600').attr('fill', '#1e293b').text(d => d.name).style('pointer-events', 'none').call(wrapText, 160);\n      }\n    });\n\n    // Helper function to wrap text inside nodes\n    function wrapText(text, width) {\n      text.each(function () {\n        const text = d3.select(this);\n        const words = text.text().split(/\\s+/).reverse();\n        let word;\n        let line = [];\n        let lineNumber = 0;\n        const lineHeight = 1.1; // ems\n        const y = text.attr('y');\n        const dy = 0;\n        let tspan = text.text(null).append('tspan').attr('x', 0).attr('y', y).attr('dy', dy + 'em');\n        while (words.length) {\n          word = words.pop();\n          line.push(word);\n          tspan.text(line.join(' '));\n          if (tspan.node().getComputedTextLength() > width) {\n            line.pop();\n            tspan.text(line.join(' '));\n            line = [word];\n            tspan = text.append('tspan').attr('x', 0).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n          }\n        }\n      });\n    }\n    function linkArc(d) {\n      const source = d.source;\n      const target = d.target;\n      // Curved bezier line for smoother appearance\n      const dx = target.x - source.x;\n      const dy = target.y - source.y;\n      const cp1x = source.x + dx / 3;\n      const cp1y = source.y + dy / 2 - 20;\n      const cp2x = source.x + 2 * dx / 3;\n      const cp2y = target.y - dy / 2 + 20;\n      return `M ${source.x} ${source.y} C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${target.x} ${target.y}`;\n    }\n    function dragstarted(event, d) {\n      // No simulation, just start drag\n    }\n    function dragged(event, d) {\n      // Constrain both x and y\n      d.x = snapToGrid ? Math.round(event.x / 20) * 20 : event.x;\n      d.y = snapToGrid ? Math.round(event.y / 20) * 20 : event.y;\n      d3.select(this).attr('transform', `translate(${d.x}, ${d.y})`);\n      // Update links\n      link.attr('d', linkArc);\n      linkLabel.attr('x', d => (d.source.x + d.target.x) / 2).attr('y', d => Math.min(d.source.y, d.target.y) - 15);\n    }\n    function dragended(event, d) {\n      // No simulation to stop\n    }\n  }, [graphData, error, width, height, colors, snapToGrid, selectedNodeName, startEditing, saveEditing, cancelEditing, editingNodeId, editingText, getNodePath]);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-white shadow-sm border-b flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",\n          children: \"\\u2190 Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800\",\n          children: \"IA Flowchart Diagram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-end space-y-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: inputText,\n            onChange: e => {\n              setInputText(e.target.value);\n              if (e.target.value) generateIA(e.target.value);\n            },\n            disabled: loading,\n            className: \"w-64 px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none text-sm placeholder-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a keyword\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 15\n            }, this), Object.keys(templates).map(key => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: key,\n              children: [templates[key].name, \" (\", key, \")\"]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/referent'),\n            disabled: loading,\n            className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\",\n            children: \"Referent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/ai-chat'),\n            disabled: loading,\n            className: \"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\",\n            children: \"AI Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1217,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2 text-blue-500 text-center\",\n      children: \"Uploading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1258,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\",\n      role: \"alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1259,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        width: width,\n        height: height,\n        className: \"absolute inset-0 w-full h-full bg-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomIn,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomOut,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fitToScreen,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"\\u2194\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetView,\n          className: \"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\",\n          children: \"\\u27F2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNode,\n          className: \"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteNode,\n          disabled: selectedNodeName === null,\n          className: \"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSnapToGrid(!snapToGrid),\n          className: `px-2 py-1 text-xs rounded text-gray-700 shadow-sm ${snapToGrid ? 'bg-green-100' : 'bg-gray-100 hover:bg-gray-200'}`,\n          children: \"\\u229E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-50 max-w-xs backdrop-blur-sm cursor-move select-none\",\n        style: {\n          left: legendPosition.x,\n          top: legendPosition.y\n        },\n        onMouseDown: e => {\n          setIsDraggingLegend(true);\n          setDragOffset({\n            x: e.clientX - legendPosition.x,\n            y: e.clientY - legendPosition.y\n          });\n        },\n        onMouseUp: () => setIsDraggingLegend(false),\n        onMouseLeave: () => setIsDraggingLegend(false),\n        onMouseMove: e => {\n          if (isDraggingLegend) {\n            setLegendPosition({\n              x: e.clientX - dragOffset.x,\n              y: e.clientY - dragOffset.y\n            });\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-800 mb-2\",\n          children: \"Legend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-1 text-xs text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25A1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-600\",\n              children: \"Rectangle = Page / Screen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1302,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600\",\n              children: \"Oval = Process / Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"\\u25C7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-orange-600\",\n              children: \"Diamond = Decision\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-mono\",\n              children: \"\\u2014\\u2014\\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Solid line = Direct navigation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-mono\",\n              children: \"- - -\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Dashed line = Related link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1216,\n    columnNumber: 5\n  }, this);\n}\n_s(IAFlowchart, \"I91aPVaGczqZ/h9es5qfrczANr4=\", false, function () {\n  return [useNavigate];\n});\n_c = IAFlowchart;\nexport default IAFlowchart;\nvar _c;\n$RefreshReg$(_c, \"IAFlowchart\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","d3","Link","useNavigate","jsxDEV","_jsxDEV","IAFlowchart","_s","navigate","iaData","setIaData","graphData","setGraphData","nodes","links","snapToGrid","setSnapToGrid","editingNodeId","setEditingNodeId","editingText","setEditingText","error","setError","loading","setLoading","width","setWidth","height","setHeight","selectedNodeName","setSelectedNodeName","inputText","setInputText","legendPosition","setLegendPosition","x","y","isDraggingLegend","setIsDraggingLegend","dragOffset","setDragOffset","svgRef","zoomRef","gRef","templates","name","type","children","description","label","linkType","genericTemplate","colors","hierarchyToGraph","data","treeLayout","tree","size","root","hierarchy","traverse","d","parentId","depth","id","length","hasChildren","push","fx","fy","source","target","forEach","child","addChildToNode","parentName","newChild","i","updated","removeNodeByName","targetName","map","filter","Boolean","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","fetchData","response","fetch","ok","json","err","zoomIn","current","scaleBy","select","zoomOut","fitToScreen","bounds","getBBox","fullWidth","fullHeight","midX","midY","scale","translate","transform","zoomIdentity","resetView","addNode","Date","now","newIaData","JSON","parse","stringify","deleteNode","updatedRoot","startEditing","saveEditing","prev","n","cancelEditing","getNodePath","w","h","rx","ry","generateIA","keywordParam","keyword","trim","toLowerCase","generated","setTimeout","svg","selectAll","remove","g","append","node","zoom","scaleExtent","on","event","attr","call","defs","shadowFilter","glowFilter","feMerge","link","enter","linkArc","style","linkLabel","Math","min","text","classed","drag","dragstarted","dragged","dragended","stopPropagation","l","transition","duration","each","group","foreignObject","property","value","key","wrapText","words","split","reverse","word","line","lineNumber","lineHeight","dy","tspan","pop","join","getComputedTextLength","dx","cp1x","cp1y","cp2x","cp2y","round","handleKeyDown","tagName","isContentEditable","preventDefault","document","className","to","fileName","_jsxFileName","columnNumber","onChange","e","disabled","Object","keys","onClick","role","ref","left","top","onMouseDown","clientX","clientY","onMouseUp","onMouseLeave","onMouseMove","_c","$RefreshReg$"],"sources":["/Users/anbschool0009/Desktop/untitled folder 7/IA-Mate-repo/frontend/src/IAFlowchart.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\nimport { Link, useNavigate } from 'react-router-dom';\n\nfunction IAFlowchart() {\n  const navigate = useNavigate();\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [editingNodeId, setEditingNodeId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const [selectedNodeName, setSelectedNodeName] = useState(null);\n  const [inputText, setInputText] = useState('');\n  // Removed aiResponse and setAiResponse state\n  const [legendPosition, setLegendPosition] = useState({ x: 80, y: 200 });\n  const [isDraggingLegend, setIsDraggingLegend] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n\n\n\n  const templates = useMemo(() => ({\n    'e-commerce': {\n      name: 'E-commerce Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Landing page with featured products and promotions' },\n        {\n          name: 'Browse Products',\n          type: 'action',\n          description: 'User browses product categories and lists',\n          children: [\n            { name: 'Product Details', type: 'page', description: 'Detailed view of a selected product with images, specs, and reviews' }\n          ]\n        },\n        { name: 'Shopping Cart', type: 'page', description: 'View and manage products added to cart' },\n        {\n          name: 'Checkout',\n          type: 'action',\n          label: 'Proceed to payment',\n          description: 'User enters shipping and billing information'\n        },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before checkout',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Home Page', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Home Page', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Home Page', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Home Page', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Checkout', type: 'page', linkType: 'related', label: 'Alternative path', description: 'Checkout without account' }\n          ]\n        },\n        {\n          name: 'Payment Method',\n          type: 'decision',\n          description: 'User selects payment method',\n          children: [\n            { name: 'Credit Card', type: 'page', label: 'Choose Card', description: 'Enter credit card details securely' },\n            { name: 'PayPal', type: 'action', label: 'Redirect to PayPal', description: 'Redirect to PayPal for payment authorization' }\n          ]\n        },\n        { name: 'Order Confirmation', type: 'page', description: 'Order summary and confirmation details' },\n        { name: 'User Profile', type: 'page', linkType: 'related', description: 'User account management and order history' }\n      ]\n    },\n    'portfolio': {\n      name: 'Portfolio Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Introduction and overview' },\n        { name: 'About Me', type: 'page', description: 'Personal bio and background' },\n        {\n          name: 'Projects',\n          type: 'page',\n          description: 'Showcase of projects with details',\n          children: [\n            { name: 'Project 1', type: 'page', description: 'Details and media for project 1' },\n            { name: 'Project 2', type: 'page', description: 'Details and media for project 2' }\n          ]\n        },\n        { name: 'Contact', type: 'page', description: 'Contact form and social links' },\n        { name: 'Blog', type: 'page', linkType: 'related', description: 'Articles and updates' },\n        {\n          name: 'Admin Login Required?',\n          type: 'decision',\n          description: 'Check if admin is logged in for editing',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'Admin authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Admin Dashboard', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Admin Dashboard', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Public View', type: 'page', linkType: 'related', label: 'Alternative path', description: 'View portfolio without login' }\n          ]\n        }\n      ]\n    },\n    'blog': {\n      name: 'Blog Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Latest posts and featured content' },\n        {\n          name: 'Posts List',\n          type: 'page',\n          description: 'List of blog posts',\n          children: [\n            { name: 'Single Post', type: 'page', description: 'Full content of a single blog post' }\n          ]\n        },\n        {\n          name: 'Categories',\n          type: 'decision',\n          description: 'Filter posts by category',\n          children: [\n            { name: 'Technology', type: 'page', description: 'Posts about technology' },\n            { name: 'Design', type: 'page', description: 'Posts about design' },\n            { name: 'Lifestyle', type: 'page', description: 'Posts about lifestyle' }\n          ]\n        },\n        { name: 'About', type: 'page', description: 'About the blog and author' },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in for commenting',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Comments Section', type: 'action', description: 'User redirected after successful sign up to comment' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Comments Section', type: 'action', description: 'User redirected after successful Google sign up to comment' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Comments Section', type: 'action', description: 'User redirected after successful login to comment' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Comments Section', type: 'action', description: 'User redirected after password reset to comment' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Comments', type: 'action', linkType: 'related', label: 'Alternative path', description: 'Comment without account' }\n          ]\n        }\n      ]\n    },\n    'restaurant': {\n      name: 'Restaurant Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Welcome and featured dishes' },\n        { name: 'Menu', type: 'page', description: 'Full menu with categories' },\n        {\n          name: 'Browse Dishes',\n          type: 'action',\n          description: 'User browses dishes by category',\n          children: [\n            { name: 'Dish Details', type: 'page', description: 'Details and ingredients of a dish' }\n          ]\n        },\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before ordering',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Order Online', type: 'decision', description: 'Choose order type after sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Order Online', type: 'decision', description: 'Choose order type after Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Order Online', type: 'decision', description: 'Choose order type after login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Order Online', type: 'decision', description: 'Choose order type after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Order as Guest', type: 'decision', linkType: 'related', label: 'Alternative path', description: 'Order without account' }\n          ]\n        },\n        {\n          name: 'Order Online',\n          type: 'decision',\n          description: 'Choose order type',\n          children: [\n            { name: 'Dine In', type: 'page', label: 'Reserve table', description: 'Table reservation system' },\n            { name: 'Takeaway', type: 'action', label: 'Quick order', description: 'Order for pickup or delivery' }\n          ]\n        },\n        { name: 'Reservations', type: 'page', description: 'Manage reservations' },\n        { name: 'Contact', type: 'page', linkType: 'related', description: 'Contact information and form' },\n        { name: 'Reviews', type: 'page', description: 'Customer reviews and ratings' }\n      ]\n    },\n    'university': {\n      name: 'University Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'University overview and news' },\n        {\n          name: 'Admissions',\n          type: 'decision',\n          description: 'Admission process options',\n          children: [\n            { name: 'Apply Online', type: 'action', description: 'Online application form' },\n            { name: 'Visit Campus', type: 'page', linkType: 'related', description: 'Campus visit scheduling' }\n          ]\n        },\n        { name: 'Courses', type: 'page', description: 'Course catalog and details' },\n        {\n          name: 'Enroll',\n          type: 'action',\n          description: 'Enrollment process',\n          children: [\n            { name: 'Course Details', type: 'page', description: 'Detailed course information' }\n          ]\n        },\n        { name: 'Library', type: 'page', description: 'Library resources and search' },\n        { name: 'Resources', type: 'page', linkType: 'related', description: 'Student resources and support' },\n        { name: 'Contact', type: 'page', description: 'Contact information' }\n      ]\n    },\n    'banking app': {\n      name: 'Banking App',\n      type: 'page',\n      children: [\n        {\n          name: 'Login Required?',\n          type: 'decision',\n          description: 'Check if user is logged in before accessing dashboard',\n          children: [\n            {\n              name: 'Authentication Page',\n              type: 'page',\n              description: 'User authentication flow',\n              children: [\n                {\n                  name: 'Sign Up',\n                  type: 'action',\n                  children: [\n                    { name: 'Input Personal Info', type: 'action', description: 'User inputs personal information' },\n                    { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                    { name: 'OTP Verified', type: 'decision', children: [\n                      { name: 'Dashboard', type: 'page', description: 'User redirected after successful sign up' }\n                    ] }\n                  ]\n                },\n                {\n                  name: 'Sign Up with Google',\n                  type: 'action',\n                  description: 'User signs up using Google OAuth',\n                  children: [\n                    { name: 'Dashboard', type: 'page', description: 'User redirected after successful Google sign up' }\n                  ]\n                },\n                {\n                  name: 'Login',\n                  type: 'action',\n                  children: [\n                    { name: 'Enter Email and Password', type: 'action', description: 'User enters login credentials' },\n                    { name: 'Login Success', type: 'decision', children: [\n                      { name: 'Dashboard', type: 'page', description: 'User redirected after successful login' }\n                    ] },\n                    { name: 'Forget Password', type: 'action', children: [\n                      { name: 'Enter Email', type: 'action', description: 'User enters email for password reset' },\n                      { name: 'Enter OTP Code', type: 'action', description: 'User enters OTP code for verification' },\n                      { name: 'OTP Verified', type: 'decision', children: [\n                        { name: 'Set New Password', type: 'action', description: 'User sets a new password' },\n                        { name: 'Dashboard', type: 'page', description: 'User redirected after password reset' }\n                      ] }\n                    ] }\n                  ]\n                }\n              ]\n            },\n            { name: 'Guest Access', type: 'page', linkType: 'related', label: 'Alternative path', description: 'Access without login' }\n          ]\n        },\n        { name: 'Dashboard', type: 'page', description: 'Account overview and summary' },\n        {\n          name: 'Transfer Funds',\n          type: 'decision',\n          description: 'Choose transfer type',\n          children: [\n            { name: 'Internal Transfer', type: 'action', description: 'Transfer between user accounts' },\n            { name: 'External Transfer', type: 'page', label: 'To other banks', description: 'Transfer to external accounts' }\n          ]\n        },\n        { name: 'Account Details', type: 'page', description: 'Detailed account information' },\n        { name: 'Support', type: 'page', linkType: 'related', description: 'Customer support and FAQs' },\n        { name: 'Transactions', type: 'page', description: 'Transaction history and statements' }\n      ]\n    },\n    'social media': {\n      name: 'Social Media Platform',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User login and registration' },\n        { name: 'Feed', type: 'page', description: 'User posts and updates' },\n        {\n          name: 'Create Post',\n          type: 'action',\n          description: 'Post creation workflow',\n          children: [\n            { name: 'Add Media', type: 'page', description: 'Upload images or videos' },\n            { name: 'Post Options', type: 'decision', description: 'Privacy and tagging options' }\n          ]\n        },\n        { name: 'Profile', type: 'page', description: 'User profile and settings' },\n        {\n          name: 'Notifications',\n          type: 'page',\n          description: 'User notifications',\n          children: [\n            { name: 'Likes', type: 'action', description: 'Likes on posts' },\n            { name: 'Comments', type: 'action', description: 'Comments on posts' }\n          ]\n        },\n        { name: 'Messages', type: 'page', linkType: 'related', description: 'Private messaging' },\n        { name: 'Settings', type: 'page', description: 'Account and privacy settings' }\n      ]\n    },\n    'news website': {\n      name: 'News Website',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Latest news and headlines' },\n        {\n          name: 'News Categories',\n          type: 'decision',\n          description: 'Filter news by category',\n          children: [\n            { name: 'Politics', type: 'page', description: 'Political news' },\n            { name: 'Sports', type: 'page', description: 'Sports news' },\n            { name: 'Entertainment', type: 'page', description: 'Entertainment news' }\n          ]\n        },\n        {\n          name: 'Article Page',\n          type: 'page',\n          description: 'Full news article',\n          children: [\n            { name: 'Comments', type: 'action', description: 'User comments on articles' },\n            { name: 'Share', type: 'action', description: 'Social sharing options' }\n          ]\n        },\n        { name: 'Search', type: 'action', description: 'Search news articles' },\n        { name: 'About', type: 'page', linkType: 'related', description: 'About the news organization' },\n        { name: 'Contact', type: 'page', description: 'Contact information' }\n      ]\n    },\n    'learning management system': {\n      name: 'Learning Management System',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User authentication' },\n        { name: 'Dashboard', type: 'page', description: 'Overview of courses and progress' },\n        {\n          name: 'Courses',\n          type: 'page',\n          description: 'List of courses',\n          children: [\n            { name: 'Course Content', type: 'page', description: 'Lessons and materials' },\n            { name: 'Assignments', type: 'action', description: 'Assignment submission and grading' }\n          ]\n        },\n        {\n          name: 'Grades',\n          type: 'page',\n          description: 'View grades and feedback',\n          children: [\n            { name: 'View Grades', type: 'action', description: 'Detailed grade reports' },\n            { name: 'Feedback', type: 'page', description: 'Instructor feedback' }\n          ]\n        },\n        { name: 'Discussion Forums', type: 'page', linkType: 'related', description: 'Course discussions and Q&A' },\n        { name: 'Profile', type: 'page', description: 'User profile and settings' }\n      ]\n    },\n    'fitness app': {\n      name: 'Fitness App',\n      type: 'page',\n      children: [\n        { name: 'Login', type: 'action', description: 'User authentication' },\n        { name: 'Home Dashboard', type: 'page', description: 'Overview of fitness stats' },\n        {\n          name: 'Workouts',\n          type: 'decision',\n          description: 'Workout selection and tracking',\n          children: [\n            { name: 'Start Workout', type: 'action', description: 'Begin a workout session' },\n            { name: 'View History', type: 'page', description: 'Past workout records' }\n          ]\n        },\n        { name: 'Progress Tracking', type: 'page', description: 'Track fitness progress over time' },\n        {\n          name: 'Nutrition',\n          type: 'page',\n          description: 'Diet and meal planning',\n          children: [\n            { name: 'Meal Plans', type: 'action', description: 'Create and manage meal plans' },\n            { name: 'Calorie Counter', type: 'page', description: 'Track daily calorie intake' }\n          ]\n        },\n        { name: 'Community', type: 'page', linkType: 'related', description: 'Social features and groups' },\n        { name: 'Settings', type: 'page', description: 'App settings and preferences' }\n      ]\n    },\n    'travel booking': {\n      name: 'Travel Booking Site',\n      type: 'page',\n      children: [\n        { name: 'Home', type: 'page', description: 'Welcome and featured destinations' },\n        {\n          name: 'Search Flights/Hotels',\n          type: 'action',\n          description: 'Search for flights and hotels',\n          children: [\n            { name: 'Flight Results', type: 'page', description: 'List of available flights' },\n            { name: 'Hotel Results', type: 'page', description: 'List of available hotels' }\n          ]\n        },\n        { name: 'Booking Details', type: 'page', description: 'Review booking information' },\n        {\n          name: 'Payment',\n          type: 'decision',\n          description: 'Select payment method',\n          children: [\n            { name: 'Credit Card', type: 'action', description: 'Enter credit card details' },\n            { name: 'PayPal', type: 'action', description: 'Pay via PayPal' }\n          ]\n        },\n        { name: 'Confirmation', type: 'page', description: 'Booking confirmation and receipt' },\n        { name: 'My Trips', type: 'page', linkType: 'related', description: 'Manage upcoming and past trips' },\n        { name: 'Support', type: 'page', description: 'Customer support and FAQs' }\n      ]\n    }\n  }), []);\n\n  const genericTemplate = useMemo(() => ({\n    name: 'Generic Site',\n    type: 'page',\n    children: [\n      { name: 'Home', type: 'page' },\n      { name: 'Services', type: 'page' },\n      {\n        name: 'Service Selection',\n        type: 'decision',\n        children: [\n          { name: 'Basic Service', type: 'action' },\n          { name: 'Premium Service', type: 'page' }\n        ]\n      },\n      { name: 'Blog', type: 'page', linkType: 'related' },\n      { name: 'Login', type: 'action' },\n      { name: 'Contact', type: 'page' },\n      {\n        name: 'Checkout',\n        type: 'decision',\n        children: [\n          { name: 'Payment Methods', type: 'page' },\n          { name: 'Order Review', type: 'action' }\n        ]\n      },\n      { name: 'Payment', type: 'page' }\n    ]\n  }), []);\n\n  const colors = useMemo(() => ['#f8fafc', '#e2e8f0', '#cbd5e1', '#94a3b8', '#64748b'], []);\n\n  const hierarchyToGraph = useCallback((data) => {\n    const nodes = [];\n    const links = [];\n\n    // Use tree layout for initial positions to avoid random overlaps\n    const treeLayout = d3.tree().size([height - 100, width - 200]);\n    const root = d3.hierarchy(data);\n    treeLayout(root);\n\n    const traverse = (d, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      const hasChildren = d.children && d.children.length > 0;\n      nodes.push({\n        id,\n        name: d.data.name,\n        type: d.data.type || 'action',\n        x: d.y + width / 2, // Horizontal tree\n        y: d.x + height / 2,\n        depth,\n        fx: d.y + width / 2,\n        fy: d.x + height / 2,\n        hasChildren,\n      });\n\n      if (parentId !== null) {\n        links.push({\n          source: nodes[parentId],\n          target: nodes[id],\n          label: d.data.label || '',\n          type: d.data.linkType || 'direct'\n        });\n      }\n\n      if (d.children) {\n        d.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n\n    traverse(root);\n    return { nodes, links };\n  }, [width, height]);\n\n  // Define recursive functions using useCallback to avoid parsing issues\n  const addChildToNode = useCallback((root, parentName, newChild) => {\n    if (root.name === parentName) {\n      root.children = root.children || [];\n      root.children.push(newChild);\n      return root;\n    }\n    if (root.children) {\n      for (let i = 0; i < root.children.length; i++) {\n        const updated = addChildToNode(root.children[i], parentName, newChild);\n        if (updated) {\n          root.children[i] = updated;\n          return root;\n        }\n      }\n    }\n    return null;\n  }, []);\n\n  const removeNodeByName = useCallback((root, targetName) => {\n    if (root.name === targetName) {\n      return null; // Remove this node\n    }\n    if (root.children) {\n      root.children = root.children.map(child => removeNodeByName(child, targetName)).filter(Boolean);\n      return root;\n    }\n    return root;\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Removed JSON upload feature, replaced with Referent feature placeholder\n  // const handleFileUpload = async (event) => {\n  //   const file = event.target.files[0];\n  //   if (!file) return;\n\n  //   if (!file.name.endsWith('.json')) {\n  //     setError('Please select a JSON file.');\n  //     return;\n  //   }\n\n  //   setLoading(true);\n  //   setError('');\n\n  //   try {\n  //     const text = await file.text();\n  //     const jsonData = JSON.parse(text);\n  //     setIaData(jsonData);\n  //     setError('');\n  //   } catch (err) {\n  //     setError('Invalid JSON file.');\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch('https://ia-mate-repo-y4ob.onrender.com/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 1.2);\n    }\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.scaleBy(d3.select(svgRef.current), 0.8);\n    }\n  }, []);\n\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = (bounds.x + bounds.width / 2);\n      const midY = (bounds.y + bounds.height / 2);\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(d3.select(svgRef.current), d3.zoomIdentity);\n    }\n  }, []);\n\n  const addNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newChild = {\n      name: `New Node ${Date.now()}`,\n      type: 'action',\n      children: []\n    };\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    addChildToNode(newIaData, selectedNodeName, newChild);\n    setIaData(newIaData);\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, addChildToNode]);\n\n  const deleteNode = useCallback(() => {\n    if (!selectedNodeName || !iaData) return;\n\n    const newIaData = JSON.parse(JSON.stringify(iaData)); // Deep copy\n    const updatedRoot = removeNodeByName(newIaData, selectedNodeName);\n    if (updatedRoot) {\n      setIaData(updatedRoot);\n    } else {\n      setIaData(null);\n    }\n    setSelectedNodeName(null);\n  }, [iaData, selectedNodeName, removeNodeByName]);\n\n  const startEditing = useCallback((d) => {\n    setEditingNodeId(d.id);\n    setEditingText(d.name);\n  }, []);\n\n  const saveEditing = useCallback(() => {\n    if (editingNodeId !== null) {\n      setGraphData(prev => ({\n        ...prev,\n        nodes: prev.nodes.map(n => n.id === editingNodeId ? { ...n, name: editingText } : n)\n      }));\n      setEditingNodeId(null);\n      setEditingText('');\n    }\n  }, [editingNodeId, editingText]);\n\n  const cancelEditing = useCallback(() => {\n    setEditingNodeId(null);\n    setEditingText('');\n  }, []);\n\n  const getNodePath = useCallback((d) => {\n    const w = 80; // half width 160\n    const h = 30; // half height 60\n    const rx = 8;\n    const ry = 8;\n\n    switch (d.type) {\n      case 'action':\n        // Oval (ellipse)\n        return `M ${-w} 0 A ${w} ${h} 0 1 1 ${w} 0 A ${w} ${h} 0 1 1 ${-w} 0 Z`;\n      case 'decision':\n        // Diamond\n        return `M 0 ${-h} L ${w} 0 L 0 ${h} L ${-w} 0 Z`;\n      case 'page':\n      default:\n        // Rounded rectangle\n        return `M ${-w + rx} ${-h} h ${w - 2 * rx} a ${rx} ${ry} 0 0 1 ${rx} ${ry} v ${h - 2 * ry} a ${rx} ${ry} 0 0 1 -${rx} ${ry} h ${-(w - 2 * rx)} a ${rx} ${ry} 0 0 1 -${rx} -${ry} v ${-(h - 2 * ry)} a ${rx} ${ry} 0 0 1 ${rx} -${ry} z`;\n    }\n  }, []);\n\n  const generateIA = useCallback((keywordParam) => {\n    const keyword = (keywordParam || '').trim().toLowerCase();\n    if (!keyword) {\n      setError('Please enter a keyword');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      let generated;\n      if (templates[keyword]) {\n        generated = templates[keyword];\n      } else {\n        generated = genericTemplate;\n        setError('Keyword not recognized. Using generic template. Try \"e-commerce\", \"portfolio\", or \"blog\".');\n      }\n      setIaData(generated);\n      // Auto-fit after generation\n      setTimeout(() => fitToScreen(), 100);\n    } catch (err) {\n      setError('Failed to generate IA.');\n      setIaData(genericTemplate);\n      setTimeout(() => fitToScreen(), 100);\n    } finally {\n      setLoading(false);\n    }\n  }, [templates, genericTemplate, fitToScreen]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!graphData.nodes.length || error) return;\n\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n\n    const g = svg.append('g');\n    gRef.current = g.node();\n\n    // Add zoom and pan with smooth transitions\n    zoomRef.current = d3.zoom()\n      .scaleExtent([0.1, 4])\n      .on('zoom', (event) => {\n        if (gRef.current) d3.select(gRef.current).attr('transform', event.transform);\n      });\n\n    svg.call(zoomRef.current);\n\n    // Enhanced defs for arrow markers, shadow, and glow\n    const defs = svg.append('defs');\n\n    // Arrowhead\n    defs.append('marker')\n      .attr('id', 'arrowhead')\n      .attr('viewBox', '-0 -5 10 10')\n      .attr('refX', 15)\n      .attr('refY', 0)\n      .attr('orient', 'auto')\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 8)\n      .attr('xoverflow', 'visible')\n      .append('path')\n      .attr('d', 'M 0,-5 L 10 ,0 L 0,5')\n      .attr('fill', '#4b5563') // darker gray for better contrast\n      .attr('stroke', 'none');\n\n    // Soft shadow\n    const shadowFilter = defs.append('filter')\n      .attr('id', 'shadow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    shadowFilter.append('feDropShadow')\n      .attr('dx', 1)\n      .attr('dy', 1)\n      .attr('stdDeviation', 3)\n      .attr('flood-color', 'rgba(0,0,0,0.15)');\n\n    // Glow for hover\n    const glowFilter = defs.append('filter')\n      .attr('id', 'glow')\n      .attr('x', '-50%')\n      .attr('y', '-50%')\n      .attr('width', '200%')\n      .attr('height', '200%');\n\n    glowFilter.append('feGaussianBlur')\n      .attr('in', 'SourceAlpha')\n      .attr('stdDeviation', 3)\n      .attr('result', 'blur');\n\n    glowFilter.append('feOffset')\n      .attr('in', 'blur')\n      .attr('dx', 0)\n      .attr('dy', 0)\n      .attr('result', 'offsetBlur');\n\n    glowFilter.append('feFlood')\n      .attr('flood-color', '#2563eb') // blue glow for hover\n      .attr('flood-opacity', '0.9')\n      .attr('result', 'glowColor');\n\n    glowFilter.append('feComposite')\n      .attr('in', 'glowColor')\n      .attr('in2', 'offsetBlur')\n      .attr('operator', 'in')\n      .attr('result', 'glowShape');\n\n    const feMerge = glowFilter.append('feMerge');\n    feMerge.append('feMergeNode').attr('in', 'glowShape');\n    feMerge.append('feMergeNode').attr('in', 'SourceGraphic');\n\n    // Curved links for smoother appearance\n    const link = g.selectAll('.link')\n      .data(graphData.links)\n      .enter().append('path')\n      .attr('class', 'link')\n      .attr('fill', 'none')\n      .attr('marker-end', 'url(#arrowhead)')\n      .attr('stroke', '#6b7280') // darker gray for better visibility\n      .attr('stroke-width', 3)\n      .attr('stroke-dasharray', d => d.type === 'related' ? '6,6' : 'none')\n      .attr('d', linkArc)\n      .style('transition', 'stroke 0.3s ease, stroke-width 0.3s ease');\n\n    // Link labels (hidden if empty)\n    const linkLabel = g.selectAll('.link-label')\n      .data(graphData.links)\n      .enter().append('text')\n      .attr('class', 'link-label')\n      .attr('font-size', 14)\n      .attr('fill', '#374151') // dark gray for better readability\n      .attr('font-weight', '600')\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'middle')\n      .attr('x', d => (d.source.x + d.target.x) / 2)\n      .attr('y', d => Math.min(d.source.y, d.target.y) - 20)\n      .style('pointer-events', 'none')\n      .text(d => d.label || '')\n      .style('display', d => d.label ? 'block' : 'none')\n      .style('text-shadow', 'none');\n\n    // Nodes with animations, hover glow\n    const node = g.selectAll('.node')\n      .data(graphData.nodes)\n      .enter().append('g')\n      .classed('node', true)\n      .attr('opacity', 0)\n      .style('transition', 'opacity 0.5s ease')\n      .call(d3.drag()\n        .on('start', dragstarted)\n        .on('drag', dragged)\n        .on('end', dragended)\n      )\n      .on('click', (event, d) => {\n        if (editingNodeId !== null) {\n          saveEditing();\n        }\n        setSelectedNodeName(d.name);\n      })\n      .on('dblclick', (event, d) => {\n        event.stopPropagation();\n        startEditing(d);\n      })\n      .on('mouseover', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#glow)')\n          .attr('stroke', '#3b82f6')\n          .attr('stroke-width', 4);\n        // Highlight outgoing links\n        g.selectAll('.link').filter(l => l.source.id === d.id)\n          .attr('stroke', '#3b82f6').attr('stroke-width', 3.5);\n      })\n      .on('mouseout', function(event, d) {\n        d3.select(this).select('path')\n          .attr('filter', 'url(#shadow)')\n          .attr('stroke', selectedNodeName === d.name ? '#3b82f6' : colors[d.depth % colors.length])\n          .attr('stroke-width', selectedNodeName === d.name ? 4 : 2.5);\n        g.selectAll('.link').attr('stroke', '#9ca3af').attr('stroke-width', 2.5);\n      });\n\n    // Set node positions directly from tree layout\n    node\n      .attr('opacity', 0)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(0.7)`)\n      .transition()\n      .duration(500)\n      .attr('opacity', 1)\n      .attr('transform', d => `translate(${d.x}, ${d.y}) scale(1)`);\n\n    node.append('rect')\n      .attr('x', d => {\n        if (d.type === 'decision') return -70;\n        if (d.type === 'action') return -80;\n        return -90;\n      })\n      .attr('y', d => -25)\n      .attr('width', d => {\n        if (d.type === 'decision') return 140;\n        if (d.type === 'action') return 160;\n        return 180;\n      })\n      .attr('height', 50)\n      .attr('rx', d => (d.type === 'decision' ? 0 : 15))\n      .attr('ry', d => (d.type === 'decision' ? 0 : 15))\n      .attr('fill', d => {\n        switch (d.type) {\n          case 'page': return '#e0e7ff'; // lighter blue\n          case 'action': return '#d1fae5'; // lighter green\n          case 'decision': return '#fed7aa'; // orange\n          default: return '#f3f4f6'; // light gray\n        }\n      })\n      .attr('stroke', d => selectedNodeName === d.name ? '#2563eb' : colors[d.depth % colors.length])\n      .attr('stroke-width', d => selectedNodeName === d.name ? 4 : 2)\n      .attr('filter', 'url(#shadow)');\n\n    node.each(function(d) {\n      const group = d3.select(this);\n      if (d.id === editingNodeId) {\n        const foreignObject = group.append('foreignObject')\n          .attr('x', -80)\n          .attr('y', -25)\n          .attr('width', 160)\n          .attr('height', 50);\n\n        foreignObject.append('xhtml:input')\n          .attr('type', 'text')\n          .property('value', editingText)\n          .style('width', '100%')\n          .style('height', '100%')\n          .style('border', 'none')\n          .style('outline', 'none')\n          .style('font-size', '16px')\n          .style('font-family', 'Inter, system-ui, sans-serif')\n          .style('font-weight', '600')\n          .style('text-align', 'center')\n          .style('display', 'flex')\n          .style('align-items', 'center')\n          .style('justify-content', 'center')\n          .on('input', function(event) {\n            setEditingText(event.target.value);\n          })\n          .on('keydown', function(event) {\n            if (event.key === 'Enter') {\n              saveEditing();\n            } else if (event.key === 'Escape') {\n              cancelEditing();\n            }\n          })\n          .on('blur', saveEditing);\n      } else {\n        group.append('text')\n          .attr('text-anchor', 'middle')\n          .attr('x', 0)\n          .attr('y', 0)\n          .attr('dy', '.35em')\n          .attr('font-size', '16px')\n          .attr('font-family', 'Inter, system-ui, sans-serif')\n          .attr('font-weight', '600')\n          .attr('fill', '#1e293b')\n          .text(d => d.name)\n          .style('pointer-events', 'none')\n          .call(wrapText, 160);\n      }\n    });\n\n  // Helper function to wrap text inside nodes\n  function wrapText(text, width) {\n    text.each(function() {\n      const text = d3.select(this);\n      const words = text.text().split(/\\s+/).reverse();\n      let word;\n      let line = [];\n      let lineNumber = 0;\n      const lineHeight = 1.1; // ems\n      const y = text.attr('y');\n      const dy = 0;\n      let tspan = text.text(null).append('tspan').attr('x', 0).attr('y', y).attr('dy', dy + 'em');\n      while (words.length) {\n        word = words.pop();\n        line.push(word);\n        tspan.text(line.join(' '));\n        if (tspan.node().getComputedTextLength() > width) {\n          line.pop();\n          tspan.text(line.join(' '));\n          line = [word];\n          tspan = text.append('tspan').attr('x', 0).attr('y', y).attr('dy', ++lineNumber * lineHeight + dy + 'em').text(word);\n        }\n      }\n    });\n  }\n\n    function linkArc(d) {\n      const source = d.source;\n      const target = d.target;\n      // Curved bezier line for smoother appearance\n      const dx = target.x - source.x;\n      const dy = target.y - source.y;\n      const cp1x = source.x + dx / 3;\n      const cp1y = source.y + dy / 2 - 20;\n      const cp2x = source.x + 2 * dx / 3;\n      const cp2y = target.y - dy / 2 + 20;\n      return `M ${source.x} ${source.y} C ${cp1x} ${cp1y} ${cp2x} ${cp2y} ${target.x} ${target.y}`;\n    }\n\n    function dragstarted(event, d) {\n      // No simulation, just start drag\n    }\n\n    function dragged(event, d) {\n      // Constrain both x and y\n      d.x = snapToGrid ? Math.round(event.x / 20) * 20 : event.x;\n      d.y = snapToGrid ? Math.round(event.y / 20) * 20 : event.y;\n      d3.select(this).attr('transform', `translate(${d.x}, ${d.y})`);\n      // Update links\n      link.attr('d', linkArc);\n      linkLabel\n        .attr('x', d => (d.source.x + d.target.x) / 2)\n        .attr('y', d => Math.min(d.source.y, d.target.y) - 15);\n    }\n\n    function dragended(event, d) {\n      // No simulation to stop\n    }\n  }, [graphData, error, width, height, colors, snapToGrid, selectedNodeName, startEditing, saveEditing, cancelEditing, editingNodeId, editingText, getNodePath]);\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"p-4 bg-white shadow-sm border-b flex justify-between items-center\">\n        <div className=\"flex items-center space-x-4\">\n          <Link to=\"/\" className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n            ← Home\n          </Link>\n          <h1 className=\"text-2xl font-bold text-gray-800\">IA Flowchart Diagram</h1>\n        </div>\n        <div className=\"flex flex-col items-end space-y-2\">\n          <div className=\"flex items-center space-x-2\">\n            {/* Replace text input with dropdown for keyword selection */}\n            <select\n              value={inputText}\n              onChange={(e) => { setInputText(e.target.value); if (e.target.value) generateIA(e.target.value); }}\n              disabled={loading}\n              className=\"w-64 px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none text-sm placeholder-gray-500\"\n            >\n              <option value=\"\">Select a keyword</option>\n              {Object.keys(templates).map((key) => (\n                <option key={key} value={key}>\n                  {templates[key].name} ({key})\n                </option>\n              ))}\n            </select>\n            {/* Referent feature */}\n            <button\n              onClick={() => navigate('/referent')}\n              disabled={loading}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\"\n            >\n              Referent\n            </button>\n            <button\n              onClick={() => navigate('/ai-chat')}\n              disabled={loading}\n              className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50\"\n            >\n              AI Chat\n            </button>\n          </div>\n        </div>\n      </div>\n      {loading && <p className=\"p-2 text-blue-500 text-center\">Uploading...</p>}\n      {error && <div className=\"p-3 mb-4 text-sm text-red-700 bg-red-100 rounded border border-red-400 text-center\" role=\"alert\">{error}</div>}\n      <div className=\"flex-1 relative\">\n        <svg ref={svgRef} width={width} height={height} className=\"absolute inset-0 w-full h-full bg-white\">\n        </svg>\n        {/* Floating Toolbar */}\n        <div className=\"absolute top-4 left-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\">\n          <button onClick={zoomIn} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">+</button>\n          <button onClick={zoomOut} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">-</button>\n          <button onClick={fitToScreen} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">↔</button>\n          <button onClick={resetView} className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded text-gray-700 shadow-sm\">⟲</button>\n          <button onClick={addNode} className=\"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 rounded text-blue-700 shadow-sm\">+</button>\n          <button onClick={deleteNode} disabled={selectedNodeName === null} className=\"px-2 py-1 text-xs bg-red-100 hover:bg-red-200 rounded text-red-700 disabled:opacity-50 shadow-sm\">×</button>\n          <button onClick={() => setSnapToGrid(!snapToGrid)} className={`px-2 py-1 text-xs rounded text-gray-700 shadow-sm ${snapToGrid ? 'bg-green-100' : 'bg-gray-100 hover:bg-gray-200'}`}>⊞</button>\n        </div>\n        {/* Legend */}\n        <div\n          className=\"absolute bg-white/90 shadow-lg rounded-lg p-4 border border-gray-200 z-50 max-w-xs backdrop-blur-sm cursor-move select-none\"\n          style={{ left: legendPosition.x, top: legendPosition.y }}\n          onMouseDown={(e) => {\n            setIsDraggingLegend(true);\n            setDragOffset({\n              x: e.clientX - legendPosition.x,\n              y: e.clientY - legendPosition.y,\n            });\n          }}\n          onMouseUp={() => setIsDraggingLegend(false)}\n          onMouseLeave={() => setIsDraggingLegend(false)}\n          onMouseMove={(e) => {\n            if (isDraggingLegend) {\n              setLegendPosition({\n                x: e.clientX - dragOffset.x,\n                y: e.clientY - dragOffset.y,\n              });\n            }\n          }}\n        >\n          <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">Legend</h3>\n          <div className=\"space-y-1 text-xs text-gray-700\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">□</span>\n              <span className=\"text-blue-600\">Rectangle = Page / Screen</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">○</span>\n              <span className=\"text-green-600\">Oval = Process / Action</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-lg\">◇</span>\n              <span className=\"text-orange-600\">Diamond = Decision</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\">———</span>\n              <span>Solid line = Direct navigation</span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm font-mono\">- - -</span>\n              <span>Dashed line = Related link</span>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default IAFlowchart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}