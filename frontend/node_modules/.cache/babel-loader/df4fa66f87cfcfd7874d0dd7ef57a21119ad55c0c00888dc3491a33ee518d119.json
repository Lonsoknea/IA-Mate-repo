{"ast":null,"code":"var _jsxFileName = \"/Users/anbschool0009/Desktop/IA-Mate_project/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({\n    nodes: [],\n    links: []\n  });\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n  const simulationRef = useRef();\n  const dragLineRef = useRef();\n  const colors = useMemo(() => ['#dbeafe', '#dcfce7', '#f3e8ff', '#fef3c7', '#f0f9ff'], []); // Pastel colors for levels\n\n  const hierarchyToGraph = useCallback(data => {\n    const nodes = [];\n    const links = [];\n    const nodeMap = new Map();\n    const traverse = (node, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      nodes.push({\n        id,\n        name: node.name,\n        x: Math.random() * width,\n        y: Math.random() * height,\n        depth,\n        fx: null,\n        fy: null\n      });\n      nodeMap.set(node.name, id);\n      if (parentId !== null) {\n        links.push({\n          source: parentId,\n          target: id\n        });\n      }\n      if (node.children) {\n        node.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n    traverse(data);\n    return {\n      nodes,\n      links\n    };\n  }, [width, height]);\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (!file.name.endsWith('.json')) {\n      setError('Please select a JSON file.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const text = await file.text();\n      const jsonData = JSON.parse(text);\n      const response = await fetch('http://localhost:3001/upload', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(jsonData)\n      });\n      if (response.ok) {\n        setIaData(jsonData);\n        setExpandedNodes(new Set()); // Reset expanded on new upload\n        fetchData();\n      } else {\n        setError('Failed to upload JSON.');\n      }\n    } catch (err) {\n      setError('Invalid JSON file.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('No IA data uploaded yet.');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      const currentTransform = d3.zoomTransform(svgRef.current);\n      zoomRef.current.transform(svgRef.current, currentTransform.scaleBy(1.2));\n    }\n  }, []);\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      const currentTransform = d3.zoomTransform(svgRef.current);\n      zoomRef.current.transform(svgRef.current, currentTransform.scaleBy(0.8));\n    }\n  }, []);\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = bounds.x + bounds.width / 2;\n      const midY = bounds.y + bounds.height / 2;\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity);\n    }\n  }, []);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-white shadow-sm border-b flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800\",\n        children: \"IA Flowchart Diagram\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".json\",\n          onChange: handleFileUpload,\n          disabled: loading,\n          className: \"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchData,\n          disabled: loading,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2 text-blue-500 text-center\",\n      children: \"Uploading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-2 text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        width: width,\n        height: height,\n        className: \"absolute inset-0 w-full h-full bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          ref: gRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 right-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomIn,\n          className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\",\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomOut,\n          className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\",\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fitToScreen,\n          className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\",\n          children: \"Fit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetView,\n          className: \"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bFVkDumst6Q8U6hQiHVD1hMGFEE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","d3","jsxDEV","_jsxDEV","App","_s","iaData","setIaData","graphData","setGraphData","nodes","links","selectedNodeId","setSelectedNodeId","snapToGrid","setSnapToGrid","expandedNodes","setExpandedNodes","Set","error","setError","loading","setLoading","width","setWidth","height","setHeight","svgRef","zoomRef","gRef","simulationRef","dragLineRef","colors","hierarchyToGraph","data","nodeMap","Map","traverse","node","parentId","depth","id","length","push","name","x","Math","random","y","fx","fy","set","source","target","children","forEach","child","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","handleFileUpload","event","file","files","endsWith","text","jsonData","JSON","parse","response","fetch","method","headers","body","stringify","ok","fetchData","err","json","zoomIn","current","currentTransform","zoomTransform","transform","scaleBy","zoomOut","fitToScreen","bounds","getBBox","fullWidth","fullHeight","midX","midY","scale","translate","zoomIdentity","resetView","handleKeyDown","tagName","isContentEditable","key","preventDefault","document","className","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","disabled","onClick","ref","_c","$RefreshReg$"],"sources":["/Users/anbschool0009/Desktop/IA-Mate_project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport * as d3 from 'd3';\n\nfunction App() {\n  const [iaData, setIaData] = useState(null);\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [selectedNodeId, setSelectedNodeId] = useState(null);\n  const [snapToGrid, setSnapToGrid] = useState(false);\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [width, setWidth] = useState(800);\n  const [height, setHeight] = useState(600);\n  const svgRef = useRef();\n  const zoomRef = useRef();\n  const gRef = useRef();\n  const simulationRef = useRef();\n  const dragLineRef = useRef();\n\n  const colors = useMemo(() => ['#dbeafe', '#dcfce7', '#f3e8ff', '#fef3c7', '#f0f9ff'], []); // Pastel colors for levels\n\n  const hierarchyToGraph = useCallback((data) => {\n    const nodes = [];\n    const links = [];\n    const nodeMap = new Map();\n\n    const traverse = (node, parentId = null, depth = 0) => {\n      const id = nodes.length;\n      nodes.push({\n        id,\n        name: node.name,\n        x: Math.random() * width,\n        y: Math.random() * height,\n        depth,\n        fx: null,\n        fy: null,\n      });\n      nodeMap.set(node.name, id);\n\n      if (parentId !== null) {\n        links.push({ source: parentId, target: id });\n      }\n\n      if (node.children) {\n        node.children.forEach(child => traverse(child, id, depth + 1));\n      }\n    };\n\n    traverse(data);\n    return { nodes, links };\n  }, [width, height]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth - 40);\n      setHeight(window.innerHeight - 200);\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    if (!file.name.endsWith('.json')) {\n      setError('Please select a JSON file.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const text = await file.text();\n      const jsonData = JSON.parse(text);\n\n      const response = await fetch('http://localhost:3001/upload', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(jsonData),\n      });\n\n      if (response.ok) {\n        setIaData(jsonData);\n        setExpandedNodes(new Set()); // Reset expanded on new upload\n        fetchData();\n      } else {\n        setError('Failed to upload JSON.');\n      }\n    } catch (err) {\n      setError('Invalid JSON file.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (iaData) {\n      setGraphData(hierarchyToGraph(iaData));\n    }\n  }, [iaData, hierarchyToGraph]);\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:3001/ia');\n      if (response.ok) {\n        const data = await response.json();\n        setIaData(data);\n        setError('');\n      } else {\n        setIaData(null);\n        setError('No IA data uploaded yet.');\n      }\n    } catch (err) {\n      setError('Failed to fetch data.');\n    }\n  };\n\n\n  const zoomIn = useCallback(() => {\n    if (zoomRef.current) {\n      const currentTransform = d3.zoomTransform(svgRef.current);\n      zoomRef.current.transform(svgRef.current, currentTransform.scaleBy(1.2));\n    }\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    if (zoomRef.current) {\n      const currentTransform = d3.zoomTransform(svgRef.current);\n      zoomRef.current.transform(svgRef.current, currentTransform.scaleBy(0.8));\n    }\n  }, []);\n\n  const fitToScreen = useCallback(() => {\n    if (gRef.current && svgRef.current) {\n      const bounds = gRef.current.getBBox();\n      const fullWidth = width;\n      const fullHeight = height;\n      const midX = (bounds.x + bounds.width / 2);\n      const midY = (bounds.y + bounds.height / 2);\n      const scale = 0.85;\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity.translate(translate[0], translate[1]).scale(scale));\n    }\n  }, [width, height]);\n\n  const resetView = useCallback(() => {\n    if (zoomRef.current) {\n      zoomRef.current.transform(svgRef.current, d3.zoomIdentity);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA' || event.target.isContentEditable) {\n        return; // Don't interfere with input fields\n      }\n\n      switch (event.key) {\n        case '+':\n        case '=':\n          event.preventDefault();\n          zoomIn();\n          break;\n        case '-':\n          event.preventDefault();\n          zoomOut();\n          break;\n        case 'f':\n        case 'F':\n          event.preventDefault();\n          fitToScreen();\n          break;\n        case 'r':\n        case 'R':\n        case '0':\n          event.preventDefault();\n          resetView();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [zoomIn, zoomOut, fitToScreen, resetView]);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"p-4 bg-white shadow-sm border-b flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-800\">IA Flowchart Diagram</h1>\n        <div className=\"flex items-center space-x-2\">\n          <input\n            type=\"file\"\n            accept=\".json\"\n            onChange={handleFileUpload}\n            disabled={loading}\n            className=\"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n          />\n          <button \n            onClick={fetchData} \n            disabled={loading} \n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50\"\n          >\n            Refresh\n          </button>\n        </div>\n      </div>\n      {loading && <p className=\"p-2 text-blue-500 text-center\">Uploading...</p>}\n      {error && <p className=\"p-2 text-red-500 text-center\">{error}</p>}\n      <div className=\"flex-1 relative\">\n        <svg ref={svgRef} width={width} height={height} className=\"absolute inset-0 w-full h-full bg-white\">\n          <g ref={gRef}></g>\n        </svg>\n        {/* Floating Toolbar */}\n        <div className=\"absolute top-4 right-4 bg-white shadow-lg rounded-lg p-2 border flex flex-col space-y-1 z-10\">\n          <button onClick={zoomIn} className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\">+</button>\n          <button onClick={zoomOut} className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\">-</button>\n          <button onClick={fitToScreen} className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\">Fit</button>\n          <button onClick={resetView} className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700\">Reset</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}